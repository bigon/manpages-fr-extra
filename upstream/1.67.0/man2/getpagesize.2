.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright 1993 Rickard E. Faith (faith@cs.unc.edu)
.\" Portions from /usr/include/unistd.h are
.\"               Copyright (C) 1991, 1992 Free Software Foundation, Inc.
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" Traduction 11/10/1996 Christophe BLAESS (ccb@club-internet.fr)
.\" Mise a jour 8/04/97
.\" màj 26/06/2000 LDP 1.30
.\" màj 16/01/2002 LDP 1.47
.\" màj 18/07/2003 LDP 1.56
.TH GETPAGESIZE 2 "18 juillet 2003" LDP "Manuel du programmeur Linux"
.SH NOM
getpagesize \- Obtenir la taille des pages mémoire du système.
.SH SYNOPSIS
.B #include <unistd.h>
.sp
.B size_t getpagesize(void);
.SH DESCRIPTION
La fonction
.B getpagesize()
renvoie le nombre d'octets dans une page. Une "page" est ce que l'on
considère quand on dit dans la description de
.BR mmap (2)
que les fichiers sont projetés en unités de la taille d'une page.

La taille d'une page du type de celle utilisée par
.B mmap
est obtenue en utilisant

.RS
.nf
#include <unistd.h>
long sz = sysconf(_SC_PAGESIZE);
.fi
.RE                                                                          

(certains systèmes autorisant le synonyme _SC_PAGE_SIZE pour _SC_PAGESIZE), ou

.RS
.nf
#include <unistd.h>
int sz = getpagesize();
.fi
.RE

.SH HISTORIQUE
Cet appel est apparu en premier dans 4.2BSD.
.SH CONFORMITÉ
SVr4, 4.4BSD, SUSv2.
Dans SUSv2 l'appel
.B getpagesize()
est indiqué comme facultatif, et dans Posix 1003.1-2001 il a
été abandonné.
HPUX n'offre pas cet appel.
.SH NOTES
Que la routine
.B getpagesize()
sous Linux invoque un appel-système ou non dépend de l'architecture. Si c'est
le cas, elle renvoie la valeur du symbole PAGE_SIZE du noyau, qui dépend
de l'architecture et du modèle de machine.
Généralement on utilise des exécutables binaires qui dépendent de l'architecture
mais pas du modèle de machine afin d'avoir un seul fichier binaire de distribution
par architecture. Ceci signifie qu'un programme utilisateur ne doit pas rechercher
la valeur de PAGE_SIZE dans les fichiers d'en-tête lors de la compilation, mais
invoquer véritablement un appel-système, au moins pour les architectures ou
cette dépendance existe (comme sun4).
En ce sens, libc4, libc5 et GlibC 2.0 font erreur car leur version de
.B getpagesize()
renvoie une valeur calculée statiquement, et n'invoque pas d'appel-système.
Tout est arrangé depuis la GlibC 2.1.
.SH "VOIR AUSSI"
.BR mmap (2),
.BR sysconf (3)
.SH TRADUCTION
Christophe Blaess, 1996-2003.

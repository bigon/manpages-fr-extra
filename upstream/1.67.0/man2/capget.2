.\"
.\" $Id: capget.2,v 1.4 1999/09/09 16:43:26 morgan Exp $
.\" written by Andrew Morgan <morgan@linux.kernel.org>
.\" may be distributed as per GPL
.\" Modified by David A. Wheeler <dwheeler@ida.org>
.\"
.\" Traduction 04/01/2000 par Christophe Blaess (ccb@club-internet.fr)
.\" LDP-man-pages 1.28
.\" Màj 26/06/2000 LDP-1.30
.\" Màj 18/07/2003 LDP-1.56
.\" Màj 23/12/2005 LDP-1.67
.\"
.TH CAPGET 2 "18 juillet 2003" LDP "Manuel du programmeur Linux"
.SH NOM
capget, capset \- Configurer les capacités d'un processus.
.SH SYNOPSIS
.B #undef _POSIX_SOURCE
.br
.B #include <sys/capability.h>
.sp
.BI "int capget(cap_user_header_t " entête ", cap_user_data_t " données );
.sp
.BI "int capset(cap_user_header_t " entête ", const cap_user_data_t " données );
.SH DESCRIPTION
Depuis Linux 2.2, la toute puissance du super\-utilisateur (Ndt\ : root)
a été scindée en plusieurs ensembles distincts.
Chaque processus dispose d'un ensemble de capacités effectives permettant
d'identifier ses droits de réaliser certaines actions.
Chaque processus a aussi un ensemble de capacités héritables,
qu'il peut transmettre au travers d'un
.BR execve (2)
et un ensemble de capacités éventuelles qu'il peut rendre
effectives ou héritables.
.PP
Ces deux fonctions constituent l'interface brute du noyau pour configurer ou lire
les capacités d'un processus. Non seulement ces appels-système sont spécifiques
Linux, mais l'API du noyau est susceptible de changer. L'utilisation de
ces fonctions (en particulier le format du type
.BR cap_user_*_t )
risque de varier lors de nouvelles mises à jour du noyau.
.sp
L'interface portable est constituée des fonctions
.IR cap_set_proc (3)
et
.IR cap_get_proc "(3)\ ;"
si possible, utilisez plutôt ces routines dans vos applications.
Si vous désirez vraiment utiliser les extension Linux, essayez d'employer
plutôt les interfaces plus simples
.IR capsetp (3)
et
.IR capgetp (3).
.SH "VALEUR RENVOYÉE"
Si elles réussissent, ces routines renvoient 0. Sinon elles renvoient
-1 et configurent
.I errno
avec le code d'erreur approprié
.SH ERREURS
.TP
.B EINVAL
Un argument est invalide
.TP
.B EPERM
On a essayé d'ajouter une capacité dans l'ensemble éventuel, ou de placer
une capacité dans l'ensemble effectif ou héritable qui ne se trouvait pas
dans l'ensemble éventuel.
.SH "NOTE"
L'interface portable pour les fonctions de configuration et de lecture des
permissions est fournie par la bibliothèque
.B libcap
disponible à\ :
.br
.B ftp://ftp.kernel.org/pub/linux/libs/security/linux-privs
.SH "VOIR AUSSI"
.BR capabilities (7)
.SH TRADUCTION
Christophe Blaess, 1996-2003.


.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" 1995-11-26  Markus Kuhn <mskuhn@cip.informatik.uni-erlangen.de>
.\"      First version written
.\"
.\" Traduction  12/10/1996 Christophe BLAESS (ccb@club-internet.fr)
.\" Màj 08/04/1997
.\" Màj 18/07/2003 LDP-1.56
.\" Màj 04/07/2005 LDP-1.61
.\"
.TH MUNLOCK 2 "18 juillet 2003" LDP "Manuel du programmeur Linux"
.SH NOM
munlock \- Réautorise la pagination d'une portion de mémoire.
.SH SYNOPSIS
.nf
.B #include <sys/mman.h>
.sp
\fBint munlock(const void *\fIaddr\fB, size_t \fIlen\fB);
.fi
.SH DESCRIPTION
.B munlock
revalide la pagination pour la zone de mémoire commençant
à l'adresse
.I addr
et s'étendant sur
.I len
octets. Toutes les pages contenant des octets de cette zone
peuvent être à nouveau déplacées par le noyau sur le support
de swap après l'appel de
.B munlock.

Il n'y a pas d'empilement des verrouillages mémoire, ce qui
signifie qu'une page verrouillée plusieurs fois par
.B mlock
ou
.B mlockall
sera libérée en un seul appel à
.B munlock
pour la zone mémoire correspondante ou par un appel à
.BR munlockall.
Les pages qui sont verrouillées par plusieurs zones, ou
par plusieurs processus restent en mémoire vive tant qu'il
y a au moins un processus ou une zone qui les verrouillent.

Sur les systèmes POSIX où
.B mlock
et
.B munlock
sont disponibles, la constante symbolique
.B _POSIX_MEMLOCK_RANGE
est définie dans <unistd.h> et la valeur symbolique
.B PAGESIZE
de <limits.h> indique le nombre d'octets par page.
.SH "VALEUR RENVOYÉE"
.B munlock
renvoie 0 s'il réussit, ou \-1 s'il échoue, auquel cas
.I errno
contient le code d'erreur.
.SH ERREURS
.TP
.B ENOMEM
La zone ne correspond pas à des pages contenues dans l'espace
d'adressage du processus.
.TP
.B EINVAL
(Pas sous Linux)
.I addr
n'est pas un multiple de la taille de page.
.LP
Linux ajoute
.TP
.B EINVAL
.I len
est négatif.
.SH CONFORMITÉ
POSIX.1b, SVr4
.SH "VOIR AUSSI"
.BR mlock (2),
.BR mlockall (2),
.BR munlockall (2)
.SH TRADUCTION
Christophe Blaess, 1996-2003.

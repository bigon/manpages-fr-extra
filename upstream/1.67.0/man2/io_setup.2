.\" Copyright (C) 2003 Free Software Foundation, Inc.
.\" This file is distributed according to the GNU General Public License.
.\" See the file COPYING in the top level source directory for details.
.\"
.\" Traduction Christophe Blaess
.\" MàJ 18/07/2003 - LDP-1.56
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "IO_SETUP" 2 "18 juillet 2003" LDP "Manuel du programmeur Linux"
.SH NOM
io_setup \- Créer un contexte d'entrées/sorties asynchrones.
.SH "SYNOPSIS"
.ad l
.hy 0

#include <linux/aio.h>
.sp
.HP 15
long\ \fBio_setup\fR\ (unsigned\ \fInr_events\fR, aio_context_t\ \fI*ctxp\fR);
.ad
.hy

.SH "DESCRIPTION"

.PP
.B io_setup
crée un contexte d'E/S asynchrone capable de recevoir au moins
.IR nr_events .
.I ctxp
doit pointer sur un contexte déjà existant et doit être initialisé à
zéro avant l'appel.
Si la création de contexte réussit,
.I *ctxp
est rempli avec le descripteur résultant.

.SH "VALEUR RENVOYÉE"

.PP
.B io_setup
renvoie zéro s'il réussit, sinon l'une des erreurs décrites ci-dessous
est renvoyée.

.SH "ERREURS"

.TP
EINVAL
.I ctxp
n'est pas initialisé ou la valeur
.I nr_events
dépasse les limites internes.
.I nr_events
doit être supérieur à zéro.

.TP
EFAULT
Un pointeur invalide a été transmis comme
.IR ctxp .

.TP
ENOMEM
Pas assez de mémoire pour le noyau.

.TP
EAGAIN
La valeur
.I nr_events
dépasse la limite de l'utilisateur en évènements disponibles.

.TP
ENOSYS
.B io_setup
n'est pas implémenté sur cette architecture.

.SH "CONFORMITÉ"

.PP
.B io_setup
est spécifique à Linux et ne doit pas être utilisé dans des programmes
conçus pour être portables.

.SH "HISTORIQUE"

.PP
Les appels-systèmes d'entrées/sorties asynchrones sont apparus dans Linux 2.5
en août 2002.
.SH "VOIR AUSSI"

.PP
.BR io_getevents (2),
.BR io_cancel (2),
.BR io_destroy (2),
.BR io_submit (2)

.SH "NOTES"

.PP
Les appels d'E/S asynchrones ont été écrits par Be,jam LaHaise.

.SH AUTEUR
Kent Yoder.
.SH TRADUCTION
Christophe Blaess, 1996-2003.


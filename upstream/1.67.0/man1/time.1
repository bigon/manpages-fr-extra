.\" Copyright Andries Brouwer, 2000
.\"
.\" Traduction 30/05/2001 par Christophe Blaess (ccb@club-internet.fr)
.\" LDP-man-pages-1.36
.\" MàJ 25/07/2003 LDP-1.56
.TH TIME 1 "23 juillet 2003" LDP "Manuel de l'utilisateur Linux"
.SH NOM
time \- Chronométrer ou évaluer les ressources employées par une commande simple.
.SH SYNOPSIS
.BI "time [" options "] " commande " [" arguments... "] "
.SH DESCRIPTION
La fonction
.B time
lance le programme représenté par la
.I commande
indiquée, avec les
.I arguments
fournis. Lorsque la
.I commande
se termine,
.B time
affiche un message sur la sortie standard contenant des statistiques sur
l'exécution du programme.
Ces statistiques contiennent (i) le temps écoulé entre l'invocation
et la fin de la commande, (ii) le temps CPU écoulé en mode utilisateur
(la somme des valeurs
.I tms_utime
et
.I tms_cutime
de la structure
.I "struct tms"
fournie par l'appel système
.BR times (2)),
et (iii) le temps CPU passé en mode système (la somme des champs
.I  tms_stime
et
.I tms_cstime
de la 
.I "struct tms"
fournie par l'appel système
.BR times (2)).
.SH OPTIONS
.TP
.B \-p
Dans la localisation POSIX, utiliser le format traditionnel
.br
.in +5
"real %f\enuser %f\ensys %f\en"
.in -5
.br
(avec des nombres exprimés en secondes)
où le nombre de décimales dans le format %f n'est pas précisé, mais
suffisant pour exprimer le top d'horloge précisément.
.SH ENVIRONNEMENT
Les variables LANG, LC_ALL, LC_CTYPE, LC_MESSAGES, LC_NUMERIC,
NLSPATH et PATH sont utilisées. La dernière sert à rechercher la
.IR commande .
Les autres servent au formatage du texte et de la sortie.
.SH "CODE RENVOYÉ"
Si la
.I commande
a été invoquée, le code de sortie est celui de la
.IR commande .
Sinon, il s'agit de 127 si la 
.I commande
n'a pas été trouvée, 126 si elle a été trouvée mais n'a pas pu être invoquée,
et une autre valeur non-nulle (1-125) si quelque chose d'autre a échoué.
.SH "VOIR AUSSI"
.BR times (2),
.sp 2
.SH "VERSION GNU"
Suit une description de la version GNU 1.7 de 
.BR time .
Contrairement au nom de cet utilitaire, GNU ajoute un grand nombre d'informations
utiles, concernant non seulement le temps écoulé, mais également d'autres ressources,
comme la mémoire, les entrées-sorties ou les communications IPC (si disponibles).
La sortie est formatée en utilisant une chaîne qui peut être transmise avec l'option
\-f ou en utilisant la variable d'environnement TIME.
.LP
La chaîne de format par défaut est
.br
.in +3
%Uuser %Ssystem %Eelapsed %PCPU (%Xtext+%Ddata %Mmax)k
.br
%Iinputs+%Ooutputs (%Fmajor+%Rminor)pagefaults %Wswaps
.br
.in -3
.LP
Lorsque l'option \-p est fournie, le format de sortie (portable)
.br
.in +3
real %e
.br
user %U
.br
sys %S
.br
.in -3
est utilisé.
.SS "Chaîne de format"
Le format est interprété comme d'habitude à la manière de 
.BR printf (3).
Les caractères ordinaires sont copiés directement, les tabulations
sauts de lignes et baskslashes sont protégés par \et, \en et \e\e.
Un signe pourcent est représenté par %%, sinon % indique une conversion.
Le programme
.B time
ajoutera toujours un saut de ligne à la fin de la sortie.
Les conversions se trouvent ci-dessous. Toutes celles utilisées par
.BR tcsh (1)
sont disponibles.
.LP
.B "Temps"
.TP
.B %E
Temps réel écoulé (en [heures:]minutes:secondes).
.TP
.B %e
(pas avec tcsh.) Temps réel écoulé (en secondes).
.TP
.B %S
Nombre total de secondes-CPU passé par le processus en mode noyau.
.TP
.B %U
Nombre total de secondes-CPU passé par le processus en mode utilisateur.
.TP
.B %P
Pourcentage de CPU obtenu par ce job, calculé comme (%U + %S) / %E.
.LP
.B "Mémoire"
.TP
.B %M
Taille maximale du processus en mémoire physique durant son exécution, en kilo-octets.
.TP
.B %t
(pas avec tcsh) Taille moyenne du processus en mémoire physique durant son exécution, en kilo-octets.
.TP
.B %K
Mémoire moyenne (donnée + pile + code) utilisée par le processus, en kilo-octets.
.TP
.B %D
Taille moyenne des données non-partagées du processus, en kilo-octets.
.TP
.B %p
(pas avec tcsh.) Taille moyenne de la pile non-partagée du processus, en kilo-octets.
.TP
.B %X
Taille moyenne du code partagé du processus, en kilo-octets.
.TP
.B %Z
(pas avec tcsh.) Taille de page du système, en octets. Ceci est une constante sur un système,
mais varie de système en système.
.TP
.B %F
Nombre de fautes de pages majeures durant l'exécution. Ce sont les fautes où des pages ont dû
être rechargées depuis le disque.
.TP
.B %R
Nombre de fautes de pages mineures durant l'exécution. Ce sont les fautes où des pages ne sont
plus valides, mais n'ont pas encore été réutilisées. Les données y sont encore présentes et
seules les tables système doivent être mises à jour.
.TP
.B %W
Nombre de fois où le processus a été envoyé sur la mémoire de swap.
.TP
.B %c
Nombre de fois où le processus a été préempté involontairement (sa
tranche de temps ayant expiré).
.TP
.B %w
Nombre de fois où le processus a été commuté volontairement, en passant
en attente par exemple de la fin d'une entrée-sortie.
.LP
.B "Entrées/Sorties"
.TP
.B %I
Nombre de lecture depuis un fichier
.TP
.B %O
Nombre d'écriture dans un fichier
.TP
.B %r
Nombre de messages reçus par le processus sur une socket.
.TP
.B %s
Nombre de messages envoyés par le processus sur une socket.
.TP
.B %k
Nombre de signaux délivrés au processus.
.TP
.B %C
(pas avec tcsh.) Nom de la commande examinée avec ses arguments.
.TP
.B %x
(pas avec tcsh.) Code de retour de la commande.
.SH "OPTIONS GNU"
.TP
.BI "\-f " FORMAT ", \-\-format=" FORMAT
Préciser le format de sortie, en écrasant celui mentionné éventuellement
dans la variable d'environnement TIME.
.TP
.B "\-p, \-\-portability"
Utilise le format de sortie portable.
.TP
.BI "\-o " FICHIER ", \-\-output=" FICHIER
Ne pas envoyer les résultats sur la sortie d'erreur standard, mais écraser
le fichier indiqué.
.TP
.B "\-a, \-\-append"
En conjonction avec \-o, ne pas écraser le fichier, mais ajouter les résultats
à la fin.
.TP
.B "\-v, \-\-verbose"
Afficher des informations concernant le programme.
.SH "OPTIONS STANDARDS GNU"
.TP
.B "\-\-help"
Afficher un message d'aide sur la sortie standard et se terminer normalement.
.TP
.B "\-V, \-\-version"
Afficher un numéro de version sur la sortie standard et se terminer normalement.
.TP
.B "\-\-"
Fin de la liste des options.
.SH BOGUES
Toutes les ressources ne sont pas disponibles avec toutes les versions d'Unix,
ainsi certaines valeurs peuvent être toujours à zéro.
La sélection proposée a été essentiellement inspirée des données disponibles
sur système 4.2 ou 4.3BSD.
.LP
La version 1.7 GNU de time ne supporte pas encore la localisation.
.LP
Le choix de la variable d'environnement TIME est une erreur. Il n'est pas rare
que des systèmes comme autoconf ou make emploient une variable avec le nom d'un
utilitaire pour remplacer l'invocation directe. L'utilisation de noms de variables
comme MORE ou TIME au lieu des noms de programme conduit parfois à des problèmes.
.LP
Il est plutôt malheureux que \-o écrase le fichier plutôt que d'y ajouter ses
informations (le comportement de \-a devrait être celui par défaut).
.LP
Envoyez vos rapports de bogues et suggestions pour la version GNU de
.B time
à
.br
.I bug-utils@prep.ai.mit.edu
.br
Indiquez bien la version de
.B time ,
que vous employez, en invoquant
.br
.I time --version
.br
ainsi que le système d'exploitation et le compilateur C utilisés.
.SH "VOIR AUSSI"
.BR tcsh (1),
.BR times (2),
.BR wait3 (2)
.SH AUTEURS
.TP
.IP "David Keppel"
Version originale.
.IP "David MacKenzie"
POSIX, autoconf, GNU getopt, documentation, corrections de bogues
et améliorations.
.IP "Arne Henrik Juul"
Aide à la portabilité.
.IP "François Pinard"
Aide à la portabilité.
.SH "TRADUCTION"
Christophe BLAESS, 2001-2003.

.\" Traduction 27/11/1996 par Christophe Blaess (ccb@club-internet.fr)
.\" Mise à jour 05/06/99 - LDP-man-pages-1.23
.\" Mise à jour 30/05/01 - LDP-man-pages-1.36
.\" MàJ 25/07/2003 LDP-1.56
.TH MV 1 "25 juillet 2003" LDP "Manuel de l'utilisateur Linux"
.SH NOM
mv \- Déplacer ou renommer des fichiers.
.SH SYNOPSIS
.BI "mv [" "option..." "] " "source cible"
.br
.BI "mv [" "option..." "] " "source... cible"
.sp
Options POSIX:
.B "[\-fi] [\-\-]"
.sp
Options GNU (formes courtes) :
.BI "[\-bfiuv] [\-S" suffixe "] [\-V {numbered,existing,simple}] "
.B "[\-\-help] [\-\-version] [\-\-]"
.SH DESCRIPTION
.B mv 
déplace ou renomme des fichiers ou des répertoires.
.PP
Si le dernier argument est le nom d'un répertoire existant,
.B mv
placera tous les autres fichiers à l'intérieur de ce répertoire,
en conservant leurs noms.
Sinon, s'il n'y a que deux fichiers indiqués, il renommera le
premier pour remplacer le second.
Une erreur se produit s'il y a plus de deux fichiers indiqués et si le
dernier argument n'est pas un répertoire.
.PP
Ainsi, `mv /a/x/y /b' va renommer le fichier /a/x/y en /b/y si /b était
un répertoire déjà existant, et en /b sinon.
.PP
Appelons
.I destination
le fichier vers lequel un fichier va être déplacé.
Si la
.I destination
existe, et si l'option \-i est indiquée ou si la
.I destination
n'est pas accessible en écriture ou encore si l'entrée standard est un
terminal, et si l'option
.B \-f
n'est pas mentionnée, 
.B mv
interrogera l'utilisateur avant de remplacer le fichier. La question est
affichée sur la sortie d'erreur standard, et la réponse est attendue sur
l'entrée standard. Le fichier n'est écrasé que si la réponse est affirmative.
.PP
Lorsque la
.I source
et la
.I destination
sont sur le même système de fichiers, seul le nom est modifié, les
propriétaires, modes et horodatages sont conservés. S'ils sont sur deux
systèmes de fichiers différents, le fichier source est recopié puis effacé.
.B mv
copiera si possible les horodatages de modification et d'accès, les identités
de groupe et de propriétaire, et le mode. Si la copie des identités de groupe
ou de propriétaire échoue, les bits Set-UID et Set-GID sont effacés dans les
permissions de la destination.
.SH "OPTIONS POSIX"
.TP
.B "\-f"
Écraser les fichiers de destination existants sans demander confirmation
à l'utilisateur.
.TP
.B "\-i"
Demander la confirmation pour écraser tout fichier existant. Si la réponse
ne commence pas par `y' ou `Y', le déplacement n'est pas effectué.
Si les options \-f et \-i sont fournies simultanément, la dernière sur la
ligne de commande a l'avantage.
.TP
.B "\-\-"
Fin explicite de la liste des options.
.SH "PARTICULARITÉS GNU"
L'implémentation GNU de
.B mv
du paquetage fileutils-3.16 ne sait déplacer que des fichiers réguliers
entre des systèmes de fichiers différents.
.SH "OPTIONS GNU"
.TP
.B "\-f, \-\-force"
Écraser les fichiers de destination existants sans demander confirmation
à l'utilisateur.
.TP
.B "\-i, \-\-interactive"
Demander la confirmation pour écraser tout fichier existant. Si la réponse
ne commence pas par `y' ou `Y', le déplacement n'est pas effectué.
.TP
.B "\-u, \-\-update"
Ne pas déplacer un fichier régulier, qui écraserait un
fichier destination existant ayant une date de modification plus
récente.
.TP
.B "\-v, \-\-verbose"
Afficher le nom des fichiers avant de les déplacer.
.SH "OPTIONS DE SAUVEGARDE GNU"
Les versions GNU des programmes comme
.BR cp ,
.BR mv ,
.BR ln ,
.B install
et
.B patch
effectueront au besoin une copie de sauvegarde des fichiers à écraser, 
modifier ou effacer. Ces sauvegardes sont demandées à l'aide de l'option \-b.
La manière de nommer les copies est indiquée par l'option \-V. Dans le cas
où l'on utilise le nom du fichier original suivi d'un suffixe, ce dernier
est précisé à l'aide de l'option \-S.
.TP
.B "\-b, \-\-backup"
Effectuer une copie de secours des fichiers qui doivent être écrasés ou
effacés.
.TP
.BI  "\-S " suffixe ", \-\-suffix=" suffixe
Utiliser le 
.I suffixe
lors des copie de sauvegarde des
fichiers. Ce suffixe peut également être indiqué par la variable
d'environnement
.BR SIMPLE_BACKUP_SUFFIX .
Cette option est prioritaire sur la variable d'environnement.
Si aucun de ces deux éléments n'est indiqué, le suffixe `~',
est utilisé par défaut.
.TP
.BI "\-V " méthode ", \-\-version-control=" méthode
.RS
Cette option permet d'indiquer le type de sauvegarde à effectuer.
La
.I méthode
peut être : `numbered' (ou `t'), `existing' (ou `nil'), ou `never' (ou 
`simple'). 
La variable d'environnement
.B VERSION_CONTROL
peut également être employée, mais cette option est prioritaire.
Si 
.B VERSION_CONTROL
n'est pas renseignée, et si cette option n'est pas fournie, le type
de sauvegarde par défaut est `existing'.
La valeur de la variable d'environnement
.B VERSION_CONTROL
ou de cet argument correspond à la variable
`version-control' d'Emacs.
Les valeurs acceptées sont (ainsi que les abréviations uniques) :
.RS
.TP
`t' ou `numbered'
Toujours numéroter les sauvegardes.
.TP
`nil' ou `existing'
Numéroter la sauvegarde s'il en existe déjà une, sinon faire une
sauvegarde simple.
.TP
`never' ou `simple'
Toujours faire une sauvegarde simple.
.SH "OPTIONS STANDARDS GNU"
.TP
.B "\-\-help"
Afficher un message d'aide sur la sortie standard, et se terminer
normalement. 
.TP
.B "\-\-version"
Afficher le numéro de version sur la sortie standard, et se terminer
normalement. 
.TP
.B "\-\-"
Fin explicite de la liste des options.
.SH "ENVIRONNEMENT"
Les variables LANG, LC_ALL, LC_COLLATE, LC_CTYPE et LC_MESSAGES ont
leurs significations habituelles. Pour la version GNU, les variables
SIMPLE_BACKUP_SUFFIX et VERSION_CONTROL configurent les noms des
fichiers de sauvegarde, comme mentionné plus haut.
.SH "CONFORMITÉ"
POSIX 1003.2, sauf que les hiérarchies de répertoires ne peuvent pas être
déplacés entre systèmes de fichiers différents.
.SH "NOTES"
Cette page décrit la version de
.B mv
rencontrée dans le paquetage fileutils-4.0.
D'autres versions peuvent varier légèrement.
.SH TRADUCTION
Christophe Blaess, 1996-2003.

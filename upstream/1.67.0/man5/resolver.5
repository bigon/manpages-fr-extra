.\" Copyright (c) 1986 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
.\"
.\"	@(#)resolver.5	5.9 (Berkeley) 12/14/89
.\"	$Id: resolver.5,v 8.3 1995/12/06 20:34:35 vixie Exp $
.\"
.\" Traduction 06/09/2000 par Christophe Blaess (ccb@club-internet.fr)
.\" Correction 26/07/2002
.\" LDP 1.31
.\" MàJ 25/07/2003 LDP-1.56
.TH RESOLVER 5 "25 juillet 2003" LDP "Manuel de l administrateur Linux"
.SH NOM
.UC 4
.SH NOM
resolver \- Fichier de configuration de la résolution de noms.
.SH SYNOPSIS
/etc/resolv.conf
.SH DESCRIPTION
.LP
La bibliothèque
.I resolver
est un ensemble de routines de la bibliothèque C
qui fournit un accès au système DNS Internet.
Le fichier de configuration de la résolution de noms contient des informations qui sont lues
par les routines de résolution la première fois qu'elles sont invoquées par un processus.
Le fichier est prévu pour être lisible par des humains et contient une liste de mots-clés
avec des valeurs.
.LP
Sur un système configuré normalement, ce fichier ne devrait pas être nécessaire.
Le seul serveur de noms interrogé sera celui résidant sur la machine locale,
le nom de domaine est déterminé à partir du nom d'hôte,
et le chemin de recherche du domaine est construit à partir du nom de domaine.
.LP
Les différentes options de configuration sont\ :
.TP
\fBnameserver\fP
Adresse Internet (en notation pointée) du serveur de noms
que la bibliothèque \fIresolver\fP interrogera.
Jusqu'à MAXNS (actuellement 3) serveurs de noms peuvent être
mentionnés sur des lignes indépendantes.
Si il y a de multiples serveurs, la bibliothèque de
résolution les interrogera dans l'ordre indiqué.
Si aucune entrée \fBnameserver\fP n'est présente, le fonctionnement par défaut
est d'utiliser le serveur de noms se trouvant sur la machine.
(L'algorithme consiste à interroger un serveur de noms, et si la requête dépasse le temps maximum,
à essayer le suivant, jusqu'à la fin de la liste, et à recommencer jusqu'à un nombre maximal de
tentatives).
.TP
\fBdomain\fP
Nom du domaine local.
La plupart des requêtes au sein de ce domaine peuvent être réduites
à des raccourcis relatifs au domaine local.
Si aucune entrée \fBdomain\fP n'est présente, le domaine local est déterminé
à partir du nom local de l'hôte renvoyé par
\fIgethostname\fP\|();
la partie domaine est extraite en considérant tout ce qui se trouve après le premier `.'.
Finalement si le nom d'hôte ne contient pas de portion de domaine, on suppose être
dans le domaine racine.
.TP
\fBsearch\fP
Liste de recherche pour les noms d'hôte.
La liste de recherche est normalement déterminée à partir du nom de domaine local.
Par défaut, elle ne contient que le domaine local.
On peut la modifier en listant les chemins de recherche des domaines désirés
à la suite du mot-clé \fIsearch\fP avec des espaces ou des tabulations séparant
les noms.
La plupart des recherches seront menées en essayant chaque composant des
chemins de recherche l'un après l'autre jusqu'à obtenir une réponse.
Notez que ce processus peut être lent et engendrer un trafic réseau important
si les serveurs pour les domaines listés ne sont pas locaux,
et que les requêtes dépassent le délai accordé car aucun serveur n'est disponible
pour un des domaines.
.IP
La liste de recherche est actuellement limitée à six domaines,
avec un maximum de 256 caractères.
.TP
\fBsortlist\fP
Cette option permet aux adresses renvoyées par \fBgethostbyname\fP() d'être ordonnées.
Une liste de tri est indiquée par des paires d'adresses IP et de masques réseau. Le masque réseau
est optionnel et prend par défaut la valeur du masque naturel du réseau. L'adresse IP et le masque
réseau optionnel sont séparés par des slashes. Jusqu'à 10 paires peuvent
être mentionnées.
.IP
ex : sortlist 130.155.160.0/255.255.240.0 130.155.0.0
.TP
\fBoptions\fP
Les options permettent de modifier certaines variables internes de la bibliothèque \fIresolver\fP.
La syntaxe est
.IP
\fBoptions\fP \fIopt\fP \fI...\fP
.IP
où \fIopt\fP est une des options suivantes :
.IP
\fBdebug\fP \(em écrit RES_DEBUG dans _res.options.
.IP
\fBndots:\fP\fIn\fP \(em fixe un seuil pour le nombre de points qui doivent
apparaître dans un nom fourni à \fBres_query\fP (voir \fIresolver\fP(3))
avant qu'une \fIrequête absolue initiale\fP soit entreprise. La valeur par défaut pour
\fIn\fP est ``1'', ce qui signifie que dès qu'un point apparaît dans le nom, il sera
d'abord essayé en tant que nom absolu avant d'ajouter tout élément de
la liste de rechercher \fIsearch\fP.
.LP
Les mots-clés \fIdomain\fP et \fIsearch\fP sont mutuellement exclusifs.
Si les deux apparaissent dans le fichier,
le dernier gagne.
.LP
Le mot-clé \fIsearch\fP du fichier \fIresolv.conf\fP du système peut être
surchargé indépendamment pour chaque processus en remplissant la variable d'environnement
``\s-1LOCALDOMAIN\s+1'' avec une liste de domaines de recherche séparés par des espaces.
.LP
Le mot-clé \fIoptions\fP du fichier \fIresolv.conf\fP du système peut être
surchargé indépendamment pour chaque processus en remplissant la variable d'environnement
``\s-1RES_OPTIONS\s+1'' en une liste d'options de la bibliothèque \fIresolver\fP (séparées par
des espaces), comme indiqué à la rubrique \fBoptions\fP plus haut.
.LP
Le mot-clé et la valeur doivent apparaître sur une ligne isolée, le mot-clé
(ex: \fBnameserver\fP) doit apparaître en début de ligne
et il doit être séparé de la valeur par des espaces.
.SH FICHIERS
.I /etc/resolv.conf
.SH "VOIR AUSSI"
.BR gethostbyname (3),
.BR hostname (7),
.BR named (8),
.br
Name Server Operations Guide for BIND
.SH TRADUCTION
Christophe Blaess, 2000-2003.

.\" nfs.5 "Rick Sladkey" <jrs@world.std.com>
.\" Traduction 17/10/1996 par Christophe Blaess (ccb@club-internet.fr)
.\" MàJ 30/07/2003 mount-2.11y
.TH NFS 5 "30 juillet 2003" mount "Manuel de l'administrateur Linux"
.SH NOM
nfs \- Format et options de la fstab pour les entrées NFS.
.SH SYNOPSIS
.B /etc/fstab
.SH DESCRIPTION
Le fichier
.I fstab
contient les informations à propos des systèmes de fichiers à monter, et des 
points de montage à utiliser.
Pour le montage d'un système de fichiers NFS,  il contient le nom du serveur 
et le répertoire exporté de ce serveur, ainsi que le répertoire local à 
utiliser comme point de montage. 
De plus il contient des options spécifiques à NFS, pour contrôler la manière 
de faire le montage.
.P
Voici un extrait d'un fichier \fI/etc/fstab\fP concernant un montage NFS.
.sp
.nf
.ta 2.5i +0.75i +0.75i +1.0i
server:/usr/local/pub  /pub  nfs  rsize=8192,wsize=8192,timeo=14,intr
.fi
.DT
.SS Options
.TP 1.5i
.I rsize=n
Le nombre d'octets qu'NFS utilise en lecture de fichiers depuis un serveur NFS.
La valeur par défaut, actuellement 1024 octets, dépend du noyau.
Il est possible d'améliorer les performances du trafic en utilisant 
.IR rsize=8192 .
.TP 1.5i
.I wsize=n
Le nombre d'octets qu'NFS utilise en écriture de fichiers sur un serveur NFS.
La valeur par défaut, actuellement 1024 octets, dépend du noyau.
Il est possible d'améliorer les performances du trafic en utilisant 
.IR wsize=8192 .
.TP 1.5i
.I timeo=n
La valeur, en dixièmes de secondes, du délai avant de déclencher la première 
retransmission d'une RPC.
La valeur par défaut est 7/10 de seconde. Après une première expiration, le 
délai est doublé et l'on recommence les retransmissions jusqu'à ce que le 
délai atteigne la valeur maximale de 60 secondes, ou que le nombre maximal 
de retransmission soit dépassé, auquel cas se produit une erreur d'expiration
majeure. Si le système est monté "en dur", les retransmissions  reprendront à
nouveau indéfiniment en doublant les délais à chaque retransmission.
Le délai maximal reste 60 secondes.
On peut améliorer les performances en augmentant le délai sur un  réseau chargé,
si le serveur est un peu lent, ou si l'on traverse plusieurs routeurs ou 
passerelles.
.TP 1.5i
.I retrans=n
Le nombre d'expirations mineures et de retransmissions avant de déclencher une
expiration majeure. La valeur par défaut est 3 expirations mineures. Quand une
erreur d'expiration majeure se produit, soit l'opération est  abandonnée, soit
un message "server not responding" est affiché sur la console.
.TP 1.5i
.I acregmin=n
Durée minimale (en secondes) pendant laquelle les attributs d'un fichier régulier
sont cachés en mémoire avant de réclamer des informations fraîches au serveur.
La valeur par défaut est 3 secondes.
.TP 1.5i
.I acregmax=n
Durée maximale (en secondes) pendant laquelle les attributs d'un fichier régulier
sont cachés en mémoire avant de réclamer des informations fraîches au serveur.
La valeur par défaut est 60 secondes.
.TP 1.5i
.I acdirmin=n
Durée minimale (en secondes) pendant laquelle les attributs d'un répertoire
sont cachés en mémoire avant de réclamer des informations fraîches au serveur.
La valeur par défaut est 30 secondes.
.TP 1.5i
.I acdirmax=n
Durée maximale (en secondes) pendant laquelle les attributs d'un répertoire
sont cachés en mémoire avant de réclamer des informations fraîches au serveur.
La valeur par défaut est 60 secondes.
.TP 1.5i
.I actimeo=n
L'utilisation de actimeo remplit toutes les durées
.I acregmin,
.I acregmax,
.I acdirmin,
et
.IR acdirmax
avec la même valeur.
Il n'y a pas de valeur par défaut.
.TP 1.5i
.I retry=n
Nombre d'essais effectués pour un montage NFS en arrière-plan
avant d'abandonner.
La valeur par défaut est 10 000 essais, soit en gros une semaine.
.TP 1.5i
.I namlen=n
Quand un serveur NFS ne supporte pas la version 2 du protocole RPC de montage,
cette option peut être utilisée pour indiquer la longueur maximale des noms
de fichiers sur le système distant.
Ceci permet de supporter les fonctions POSIX pathconf.
La valeur par défaut est 255 caractères.
.TP 1.5i
.I port=n
La valeur numérique du port utilisé pour se connecter sur le serveur NFS.
Si cette valeur vaut zéro (par défaut) alors on interroge le gestionnaire
de ports (portmapper) de l'hôte distant pour connaître le numéro de port
à utiliser. Si le démon NFS de l'hôte distant n'est pas enregistré dans le
gestionnaire de ports, la valeur standard utilisée à la place pour le port
NFS est 2049.
.TP 1.5i
.I mountport=n
La valeur numérique
du port
.BR mountd .
.TP 1.5i
.I mounthost=name
Le nom de l'hôte où s'exécute
.BR mountd .
.TP 1.5i
.I mountprog=n
Utiliser un autre numéro de programme RPC pour contacter le démon de montage
de l'hôte distant. Cette option est utilisée pour les hôtes qui exécutent
simultanément plusieurs serveurs NFS.
La valeur par défaut est 100 005 qui est le numéro standard de programme RPC
pour le démon de montage.
.TP 1.5i
.I mountvers=n
Utiliser un autre numéro de version RPC pour contacter le démon de montage 
de l'hôte distant. Cette option est utilisée pour les hôtes qui exécutent 
simultanément plusieurs serveurs NFS.
La valeur par défaut est 1.
.TP 1.5i
.I nfsprog=n
Utiliser un autre numéro de programme RPC pour contacter le démon NFS
de l'hôte distant. Cette option est utilisée pour les hôtes qui exécutent
simultanément plusieurs serveurs NFS.
La valeur par défaut est 100 003 qui est le numéro standard de programme RPC
pour le démon NFS.
.TP 1.5i
.I nfsvers=n
Utiliser un autre numéro de version RPC pour contacter le démon NFS
de l'hôte distant. Cette option est utilisée pour les hôtes qui exécutent 
simultanément plusieurs serveurs NFS.
La valeur par défaut est 2.
.TP 1.5i
.I nolock
Désactiver le verrouillage NFS. Ne pas démarrer lockd.
Ceci est utile avec d'anciens serveurs NFS qui
ne supportent pas le verrouillage.
.TP 1.5i
.I bg
Si le délai pour premier essai de montage expire, continuer à essayer le
montage en arrière-plan. Après avoir lancé une opération de montage
en arrière-plan, tous les montages ultérieurs sur le même serveur NFS
seront mis en arrière-plan immédiatement, sans essayer le montage direct.
Un point de montage absent est considéré
comme une expiration, ce qui permet
des montages NFS imbriqués.
.TP 1.5i
.I fg
Si la première tentative de montage échoue, réessayer à
l'avant-plan.
C'est le complément de
.I bg
et le comportement par défaut.
.TP 1.5i
.I soft
Si une opération sur un fichier NFS arrive à une expiration majeure de délai,
alors renvoyer une erreur au programme appelant. L'attitude par défaut est de
réessayer les opérations sur les fichiers NFS indéfiniment.
.TP 1.5i
.I hard
Si une opération sur un fichier NFS arrive à une expiration majeure de délai,
alors afficher un message "server not responding" sur la console, et
réessayer indéfiniment.  C'est l'attitude par défaut.
.TP 1.5i
.I intr
Si une opération sur fichier NFS obtient une expiration majeure de délai, et s'il
est monté en dur (hard), alors autoriser les signaux à interrompre l'opération,
et renvoyer EINTR au programme appelant. L'attitude par défaut est de ne pas
permettre l'interruption des opérations sur les fichiers NFS par des signaux.
.TP 1.5i
.I posix
Monter le système de fichiers NFS en utilisant la sémantique POSIX.
Ceci permet au système de fichiers de supporter correctement la commande POSIX
pathconf, en interrogeant le serveur à propos de la longueur maximale des noms
de fichiers.
Pour cela, l'hôte distant doit supporter la version 2 du protocole RPC de
montage. Beaucoup de serveur NFS n'en supportent que la version 1.
.TP 1.5i
.I nocto
Ne pas récupérer les nouveaux attributs lors de la création d'un 
fichier.
.TP 1.5i
.I noac
Désactiver toutes formes de cache en mémoire pour les attributs. Ceci induit
une pénalisation des performances du serveur, mais permet toutefois à deux 
clients NFS d'obtenir des résultats raisonnablement bons quand les deux clients
écrivent sur le système de fichiers du serveur.
.TP 1.5i
.I tcp
Monter le système de fichiers NFS en utilisant le protocole TCP plutôt que
UDP (par défaut). Beaucoup de serveurs NFS ne supporte que UDP.
.TP 1.5i
.I udp
Monter le système de fichiers en utilisant le protocole UDP. C'est l'attitude
par défaut.
.P
Toutes les options sans valeur disposent d'une option inverse de la forme
nooption. Par exemple 
.I nointr
indique de ne pas autoriser l'interruption des opérations NFS par les signaux.
.SH FICHIERS
.I /etc/fstab
.SH "VOIR AUSSI"
.BR fstab "(5), " mount "(8), " umount "(8), " exports (5)
.SH AUTEUR
"Rick Sladkey" <jrs@world.std.com>
.SH BOGUES
Les options 
.IR posix " et " nocto
sont lues mais ignorées silencieusement au montage.
.P
Les options
.IR tcp ", et " namlen
sont implémentées mais pas encore supportée par le noyau Linux (0.99.11). 
.P
La commande 
.B umount
devrait notifier le serveur que le système de fichiers NFS est démonté.

.SH TRADUCTION
Christophe Blaess, 1997-2003.


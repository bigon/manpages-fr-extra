.\" Copyright (c) 2003 Andries Brouwer (aeb@cwi.nl)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Traduction : Alain Portal
.\" 06/07/2005 LDP-1.62
.\" Màj 14/12/2005 LDP-1.65
.\"
.TH AIO_FSYNC 3 "14 novembre 2003"  "" "Manuel du programmeur Linux"
.SH "NOM"
aio_fsync \- Synchronisation de fichier asynchrone.
.SH SYNOPSIS
.sp
.B "#include <aio.h>"
.sp
.BI "int aio_fsync(int " op ", struct aiocb *" aiocbp );
.sp
.SH DESCRIPTION
La fonction
.B aio_fsync
effectue une synchronisation de toutes les opérations d'E/S asynchrones en cours
associées à
.IR aiocbp->aio_fildes .
.LP
Plus précisément, si
.I op
est positionné à O_SYNC, toutes les opérations d'E/S actuellement en file
d'attente seront achevées comme par un appel à
.BR fsync (2),
avec
.I op
positionné à O_DSYNC. Cet appel est la version asynchrone de l'appel
.BR fdatasync (2).
Veuillez noter qu'il s'agit seulement d'une requête - cet appel n'attend pas
la fin de l'E/S.
.LP
À part
.IR aio_fildes ,
le seul membre de la structure pointée par
.I aiocbp
qui soit utilisé par cet appel est le membre
.I aio_sigevent
(une structure sigevent) qui indique le type de notification asynchrone désiré
à l'achèvement. Tous les autres membres sont ignorés.
.SH "VALEUR RENVOYÉE"
En cas de réussite (la requête de synchronisation a été mise avec succès dans
la file d'attente), la fonction renvoie 0. En cas d'erreur, \-1 est renvoyé et
.I errno
est positionnée en conséquence.
.SH "ERREURS"
.TP
.B EAGAIN
Pas de ressources disponibles.
.TP
.B EBADF
.I aio_fildes
n'est pas un descripteur de fichier valide ouvert en écriture.
.TP
.B EINVAL
Le fichier ne supporte pas les E/S synchronisées, ou
.I op
n'est pas O_SYNC ou O_DSYNC.
.SH "CONFORMITÉ"
POSIX 1003.1-2003
.SH "VOIR AUSSI"
.BR aio_cancel (3),
.BR aio_error (3),
.BR aio_read (3),
.BR aio_return (3),
.BR aio_suspend (3),
.BR aio_write (3)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Alain Portal
<aportal AT univ-montp2 DOT fr> le 6 juillet 2005
et révisée le 14 décembre 2005.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ aio_fsync\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

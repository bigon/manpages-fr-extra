.\" Copyright 1993 David Metcalfe (david@prism.demon.co.uk)
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" References consulted:
.\"     Linux libc source code
.\"     Lewine's _POSIX Programmer's Guide_ (O'Reilly & Associates, 1991)
.\"     386BSD man pages
.\" Modified Sat Jul 24 17:41:18 1993 by Rik Faith (faith@cs.unc.edu)
.\"
.\" Traduction 11/12/1996 par Christophe Blaess (ccb@club-internet.fr)
.\" MàJ LDP-1.47
.\" MàJ 21/07/2003 LDP-1.56
.TH WCTOMB 3 "21 juillet 2003" LDP "Manuel du programmeur Linux"
.SH NOM
wctomb \- Convertir un caractère étendu en caractère multi-octet.
.SH SYNOPSIS
.nf
.B #include <stdlib.h>
.sp
.BI "int wctomb (char *" s ", wchar_t " wchar );
.fi
.SH DESCRIPTION
Si \fIs\fP n'est pas NULL, la fonction \fBwctomb\fP convertit le caractère large
\fIwc\fP dans sa représentation multi-octets et le stocke au début de la chaîne
de caractères pointée par \fIs\fP. Elle met à jour l'état de décalage, variable statique
anonyme connue uniquement de la fonction wctomb, et renvoie la longueur de la représentation
multioctets, c'est à dire le nombre d'octets écrits dans \fIs\fP.
.PP
Le programmeur doit s'assurer qu'il y a suffisament de place pour \fBMB_CUR_MAX\fP octets
au moins dans \fIs\fP.
.PP
Si \fIs\fP est NULL, la fonction \fBwctomb\fP réinitialise l'état de décalage, connu seulement
de cette fonction, à sa valeur initiale et renvoie une valeur non-nulle si l'encodage a
un état de décalage non trivial, ou zéro si l'encodage est sans état.
.SH "VALEUR RENVOYÉE"
Si \fIs\fP n'est pas NULL, la fonction \fBwctomb\fP renvoie le nombre d'octets qui ont
été écrit dans la chaîne d'octet à l'adresse \fIs\fP. Si \fIwc\fP ne peut pas être représenté
par une séquence multi-octets (d'après la localisation en cours), elle renvoie -1.
.PP
Si \fIs\fP est NULL, la fonction \fBwctomb\fP renvoie une valeur non-nulle si l'encodage a
un état de décalage non trivial, ou zéro si l'encodage est sans état.
.SH "CONFORMITÉ"
ISO/ANSI C, UNIX98
.SH "VOIR AUSSI"
.BR wcrtomb (3),
.BR wcstombs (3),
.BR MB_CUR_MAX (3)
.SH NOTES
Le comportement de \fBwctomb\fP dépend de la catégorie LC_TYPE de la localisation
en cours.
.PP
Cette fonction ne doit pas être utilisée dans un environnement multi-threads. La routine
\fBwcrtomb\fP fournit une meilleure interface pour la même fonctionnalité.
.SH TRADUCTION
Christophe Blaess, 1996-2003.

.\" Copyright (c) 2003 Andries Brouwer (aeb@cwi.nl)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Traduction : Alain Portal
.\" 06/07/2005 LDP-1.62
.\" Màj 14/12/2005 LDP-1.65
.\"
.TH AIO_CANCEL 3 "14 novembre 2003"  "" "Manuel du programmeur Linux"
.SH "NOM"
aio_cancel \- Annuler une requête d'E/S asynchrone en cours
.SH SYNOPSIS
.sp
.B "#include <aio.h>"
.sp
.BI "int aio_cancel(int " fd ", struct aiocb *" aiocbp );
.sp
.SH DESCRIPTION
La fonction
.B aio_cancel
tente d'annuler les requêtes d'E/S asynchrones en cours pour le descripteur
de fichier
.IR fd .
Si
.I aiocbp
est NULL, toutes les requêtes sont annulées. Autrement, seule la requête
décrite par le bloc de contrôle pointé par
.I aiocbp
est annulée.
.LP
Une notification asynchrone normale survient pour les requêtes annulées.
L'état de retour de la requête est positionné à \-1 et l'état de l'erreur
de la requête est positionné à ECANCELED.
Le bloc de contrôle des requêtes qui n'ont pas été annulées n'est pas modifié.
.LP
Si
.I aiocbp
n'est pas NULL et si
.I fd
diffère du descripteur de fichier pour lequel l'opération asynchrone a été
initiée, les résultats sont imprévisibles.
.LP
Les opérations qui peuvent être annulées dépendent de l'implémentation.
.\" FreeBSD: not those on raw disk devices.
.SH "VALEUR RENVOYÉE"
Cette fonction renvoie AIO_CANCELED si toutes les requêtes ont été annulées
avec succès. Elle renvoie AIO_NOTCANCELED si au moins une des requêtes
spécifiées n'a pas été annulée parce qu'elle était en cours. Dans ce cas,
il est possible de vérifier individuellement l'état des requêtes en utilisant
.BR aio_error (3).
Cette fonction renvoie AIO_ALLDONE lorsque toutes les requêtes étaient déjà
achevées avant cet appel.
Lorsque des erreurs apparaissent, \-1 est renvoyé et
.I errno
est positionnée en conséquence.
.SH "ERREURS"
.TP
.B EBADF
.I fd
n'est pas un descripteur de fichier valide.
.SH "CONFORMITÉ"
POSIX 1003.1-2003
.SH "VOIR AUSSI"
.BR aio_error (3),
.BR aio_fsync (3),
.BR aio_read (3),
.BR aio_return (3),
.BR aio_suspend (3),
.BR aio_write (3)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Alain Portal
<aportal AT univ-montp2 DOT fr> le 6 juillet 2005
et révisée le 14 décembre 2005.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ aio_cancel\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

.\" Copyright Andries Brouwer, Ragnar Hojland Espinosa and A. Wik, 1998.
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Traduction 24/11/1996 par Christophe Blaess (ccb@club-internet.fr)
.\" Màj 30/05/2001 LDP-1.36
.\" Màj 25/07/2003 LDP-1.56
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH LN 1 "Novembre 1998" LDP "Manuel de l'utilisateur Linux"
.SH NOM
ln \- Créer des liens entre fichiers.
.SH SYNOPSIS
.B ln [options]
.IB source " [" dest ]
.br
.B ln [options]
.I source... répertoire
.sp
Options POSIX\ :
.B "[\-f] [\-\-]"
.sp
Options GNU (forme abrégée):
.B [\-bdfinsvF]
.BI "[\-S " suffixe ]
.B "[\-V {numbered,existing,simple}]"
.B "[\-\-help] [\-\-version] [\-\-]"
.SH DESCRIPTION
Sous Unix, il existe deux types de «\ liens\ » entre fichiers, que l'on
nomme généralement liens matériels (ou physiques) et liens symboliques
(ou logiques).

Un lien matériel est simplement une manière de nommer
un fichier. Un fichier peut avoir plusieurs noms. Un fichier n'est effacé
réellement que lorsque son dernier nom est supprimé. Le nombre de noms
d'un fichier est indiqué par la commande
.BR ls (1).
Il n'y a pas de notion de nom «\ original\ »\ : tous les noms d'un fichier ont
exactement la même importance. Tous les noms d'un fichier se trouvent
généralement - mais ce n'est pas obligatoire - dans le système de fichiers
contenant les données du fichier.
.PP
Un lien symbolique est d'un tout autre genre. Il s'agit d'un petit fichier
spécial, qui contient un chemin d'accès. Ainsi un lien symbolique peut
pointer vers un système de fichier différent de celui qui l'accueille.
Il peut également pointer, grâce à NFS, vers un système de fichiers
appartenant à une autre machine. Enfin, un lien symbolique ne pointe
pas nécessairement vers un fichier existant.
Lorsque l'on accède à un lien symbolique (avec les appels système
.BR open (2)
ou
.BR stat (2)),
le nom du lien symbolique est remplacé, par le noyau Unix, par une
référence au fichier vers lequel le lien pointe.
Toutefois, avec les appels
.BR rm (1)
et
.BR unlink (2)
le lien lui-même est supprimé, et non pas le fichier visé.
Il existe des appels systèmes spéciaux
.BR lstat (2)
et
.BR readlink (2)
qui renvoient le statut du lien symbolique, et le nom du fichier vers
lequel il pointe. Pour de nombreux autres appels-systèmes, il existe
une frange d'incertitudes et de variations entre les différents systèmes
pour savoir si la fonction s'applique au lien symbolique lui-même, ou au
fichier cible.
.PP
.B ln
crée des liens entre fichiers. Par défaut, il s'agit de liens matériels.
Si l'on utilise l'option
.BR "\-s" ,
les liens seront symboliques (logiques).
.PP
Si l'on n'indique qu'un seul nom de fichier, un lien vers ce fichier
est créé dans le répertoire courant. Le nom de ce lien sera le même
que celui du fichier visé (il s'agit là d'une extension GNU).
Sinon, si le dernier argument indique un répertoire existant,
.B ln
créera des liens sur chacun des fichiers
.I source
indiqués dans ce répertoire. Les noms seront égaux à ceux des fichiers
.I source
visés. (Consultez toutefois l'option
.B "\-\-no\-dereference"
plus bas).
Si l'on indique seulement deux noms de fichiers, un lien sera créé avec
le nom
.I dest
pointant vers le fichier
.IR source .
Il est interdit d'indiquer plus de deux arguments si le dernier nom n'est
pas un répertoire.
.PP
Par défaut,
.B ln
ne supprime pas les fichiers ni les liens symboliques existants.
(Ainsi on peut l'utiliser à des fins de verrouillage, il échouera
si
.I dest
existe déjà).
On peut toutefois forcer l'écrasement avec l'option \-f.
.PP
Avec les implémentations existant actuellement, seul le super-utilisateur peut
créer un lien matériel sur un répertoire, et encore, c'est souvent totalement
impossible. POSIX interdit aux appels système
.BR link (2)
et à l'utilitaire
.B ln
de créer des liens physique sur un répertoire (mais n'interdit pas les liens
matériels entre différents systèmes de fichiers).
.SH "OPTIONS POSIX"
.TP
.B "\-f"
Forcer l'écrasement du fichier destination s'il existe.
.TP
.B "\-\-"
Fin explicite de la liste des options.
.SH "OPTIONS GNU"
.TP
.B "\-d, \-F, \-\-directory"
Autoriser le super-utilisateur à créer un lien physique sur un répertoire.
.TP
.B "\-f, \-\-force"
Forcer l'écrasement du fichier destination s'il existe.
.TP
.B "\-i, \-\-interactive"
Demander confirmation avant de supprimer les fichiers destination.
.TP
.B "\-n, \-\-no\-dereference"
Lorsque l'on fournit une destination explicite qui se trouve être
un répertoire, la considérer comme un fichier normal.
.br
Lorsque la destination est un répertoire réel (et non pas un
lien symbolique sur un répertoire), il n'y a pas d'ambiguïté. Le lien
est créé dans ce répertoire. Mais lorsque la destination est un lien
symbolique vers un répertoire, il y a deux possibilités pour traiter
la demande.
.B ln
peut considérer la destination comme un répertoire normal,
et créer le lien dans celui-ci. D'un autre côté, la destination peut
également être considérée comme le lien symbolique lui-même à créer.
Dans ce cas,
.B ln
doit détruire, ou archiver, le lien existant avant de créer le nouveau lien.
Le comportement par défaut est de considérer la destination comme un
répertoire à part entière.
.TP
.B "\-s, \-\-symbolic"
Créer des liens symboliques à la place des liens physiques. Cette option
produit souvent des messages d'erreurs sur les systèmes qui ne supportent
pas les liens symboliques.
.TP
.B "\-v, \-\-verbose"
Afficher le nom de chaque fichier avant de le lier.
.SH "OPTIONS DE SAUVEGARDE GNU"
Les versions GNU des programmes comme
.BR cp ,
.BR mv ,
.BR ln ,
.B install
et
.B patch
créeront au besoin une copie de sauvegarde des fichiers à écraser,
à modifier ou à détruire.
On demande une copie de sauvegarde à l'aide de l'option \-b,
on indique la nomenclature à adopter avec l'option \-V, et si
la sauvegarde se fait avec un suffixe, celui-ci est précisé avec l'option \-S.
.TP
.B "\-b, \-\-backup"
Créer une copie de sauvegarde des fichiers à écraser ou à détruire.
.TP
.BI "\-S " SUFFIXE ", \-\-suffix=" SUFFIXE
Ajouter le
.I SUFFIXE
indiqué à chaque fichier de sauvegarde créé.
Si cette option n'est pas indiquée, on utilisera la valeur de la variable
d'environnement
.BR SIMPLE_BACKUP_SUFFIX .
Si la variable
.B SIMPLE_BACKUP_SUFFIX
n'existe pas, la valeur par défaut est «\ ~\ »'.
.TP
.BI "\-V " MÉTHODE ", \-\-version\-control=" MÉTHODE
.RS
Préciser la nomenclature des fichiers de sauvegarde
La
.I MÉTHODE
indiquée peut être «\ numbered\ » («\ t\ »), «\ existing\ » («\ nil\ »), ou «\ never\ » («\ simple\ »).
Si cette option n'est pas indiquée, la valeur de la variable
d'environnement
.B VERSION_CONTROL
est utilisée, et si la variable
.B VERSION_CONTROL
n'existe pas, la valeur par défaut est «\ existing\ ».
.PP
Cette option correspond à la variable «\ version-control\ » sous Emacs.
Les
.IR MÉTHODES
valides (les abréviations non-ambiguës sont acceptées) sont\ :
.TP
.BR t ", " numbered
Toujours faire une sauvegarde numérotée.
.TP
.BR nil ", " existing
Faire une sauvegarde numérotée des fichiers en ayant déjà une précédente, et
une sauvegarde simple pour les autres.
.TP
.BR never ", " simple
Faire toujours une sauvegarde simple.
.RE
.SH "OPTIONS STANDARDS GNU"
.TP
.B "\-\-help"
Afficher un message d'aide sur la sortie standard, et se terminer correctement.
.TP
.B "\-\-version"
Afficher un numéro de version sur la sortie standard, et se terminer correctement.
.TP
.B "\-\-"
Fin de la liste d'options.
.SH ENVIRONNEMENT
Les variables LANG, LC_ALL, LC_CTYPE et LC_MESSAGES
ont leurs significations habituelles.
.SH "CONFORMITÉ"
POSIX 1003.2. Toutefois, POSIX 1003.2 (1996) ne parle pas des liens symboliques.
Ceux-ci ont été introduits par BSD, et n'existent pas dans System V release 3
et antérieurs.
.SH "VOIR AUSSI"
.BR ls (1),
.BR rm (1),
.BR link (2),
.BR lstat (2),
.BR open (2),
.BR readlink (2),
.BR stat (2),
.BR unlink (2)
.SH NOTES
Cette page décrit la version de
.B ln
trouvée dans le paquetage fileutils-4.0, d'autres versions
peuvent différer légèrement.
Envoyez par courriel corrections et ajout sur cette page à aeb@cwi.nl.
Signalez les bogues du programme à fileutils-bugs@gnu.ai.mit.edu (Ndt\ : en anglais)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 24\ novembre\ 1996
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 1\ ln\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

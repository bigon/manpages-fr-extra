.\" Date: Fri, 11 Sep 1998 19:13:45 +0100
.\" From: Edward Betts <edward@hairnet.demon.co.uk>
.\"
.\" Derived from the GNU diff info page.
.\" May be distributed under the GPL.
.\"
.\" Traduction 15/12/1998 par Christophe Blaess (ccb@club-internet.fr)
.\" LDP-1.22
.\" Màj 25/07/2003 diffutils-2.8.1
.\" Màj 01/05/2006 LPP-1.67.1
.\"
.TH DIFF 1 "22 septembre 1993" "diffutils" "Manuel de l'utilisateur Linux"
.SH NOM
diff \- Trouver les différences entre des fichiers.
.SH SYNOPSIS
.B diff
[options] source cible
.SH DESCRIPTION
Dans le cas le plus simple,
.I diff
compare le contenu du fichier
.I source
et celui du fichier
.IR cible .
Un nom de fichier remplacé par un tiret
.B \-
correspond à la lecture depuis l'entrée standard.
Un cas particulier est représenté par \fB "diff \--" \fP
qui compare une copie de l'entrée standard avec elle-même.

Si la
.I source
est un répertoire, et pas la
.IR cible ,
alors
.I diff
compare le fichier
.I cible
avec le fichier placé dans le répertoire
.I source
et dont le nom soit identique à la
.IR cible .
La situation réciproque est également possible.
Le fichier indiqué (pas le répertoire) ne peut pas être
.BR - .
En effet, l'entrée standard n'a pas de nom et la correspondance
``nom à nom'' ne pourrait pas s'appliquer.

Si les deux fichiers
.I source
et
.I cible
sont des répertoires,
.I diff
compare les fichiers correspondant dans les deux répertoires, dans l'ordre
alphabétique. Cette comparaison n'est pas récursive, à moins d'employer
l'option
.B \-r
ou
.BR \-\-recursive .
.I diff
ne compare jamais le contenu ``réel'' d'un répertoire en le considérant comme un fichier.

Les options de
.B diff
commencent par un tiret \fB\-\fP,
ainsi les fichiers
.I source
et
.I cible
ne devraient pas commencer par un tiret
.BR - .
Toutefois, le double tiret
.B \-\-
est un argument spécial signifiant ``fin des options'', ainsi des noms de
fichiers commençant par un tiret peuvent être mentionnés à sa suite.

.SS Options
Voici une liste de l'ensemble des options que le
.I diff
GNU accepte. La plupart des options ont deux noms équivalents, l'un constitué
d'une seule lettre précédée par
.BR - ,
et l'autre composé d'un nom long plus explicite, précédé par
.BR \-\- .

Plusieurs options avec lettre unique (sauf si elle prennent un argument) peuvent
être combinées en un seul mot de la ligne de commande\ ; ainsi\ :
.B \-ac
est équivalent à
.BR "\-a \-c" .

Les options avec un nom long peuvent être abrégées s'il n'y a pas d'ambiguïté.

Les crochets
.RB ( [
et
.BR ] )
indiquent qu'une option prend éventuellement un argument.
.TP
\fB-\fP\fInb\fP
(nb est un nombre entier) Afficher
.I nb
lignes de contexte. Cette option ne précise pas le format de sortie par elle-même, elle
n'a pas d'effet si elle n'est pas combinée avec
.B \-c
ou
.BR \-u .
Cette option est obsolète. Pour fonctionner correctement,
.I patch
nécessite typiquement deux lignes de contexte.
.TP
.B \-a
Traiter tous les fichiers comme du texte, et les comparer ligne-à-ligne, même
s'ils semblent contenir des données binaires.
.TP
.B \-b
Ne pas tenir compte des différences concernant des espaces blancs.
.TP
.B \-B
Ne pas tenir compte des différences qui concernent des lignes blanches.
.TP
.B \-\-brief
Indiquer seulement si les fichiers diffèrent, pas les différences elles-mêmes.
.TP
.B \-c
Utiliser le format de sortie contextuel.
.TP
.BI "\-C " nb
.br
.ns
.TP
.BI \-\-context[= nb ]
(nb est un nombre entier)
Utiliser le format de sortie contextuel en affichant
.I nb
lignes de texte. Par défaut
.I nb
vaut 3.
Pour fonctionner correctement,
.I patch
nécessite typiquement au moins deux lignes de contexte.
.TP
.BI \-\-changed\-group\-format= format
Utiliser le
.I format
pour afficher un groupe de lignes contenant des différences entre
les deux fichiers. L'affichage est du type si-alors-sinon (voir option -D)
.TP
.B \-d
Modifier l'algorithme pour trouver éventuellement des ensembles de changements plus petits.
Ceci rend
.I diff
plus lent (parfois beaucoup plus lent).
.TP
.BI "\-D " nom
Sortir les deux textes originaux regroupés. La différenciation se fait
par des directives de préprocesseur ifdef-then-else concernant l'existence, ou non,
de la macro ayant le
.I nom
indiqué. Par exemple on utilisera `\fIdiff -D Nouvelle_version ancien_fichier.c nouveau_fichier.c\fP'
pour obtenir un fichier pouvant être compilé au choix avec la constante symbolique Nouvelle_version.
.TP
.B \-e
.br
.ns
.TP
.B \-\-ed
Sortir un script valide pour
.IR ed .
.TP
.BI \-\-exclude= motif
Lors de la comparaison de répertoires, ignorer les fichiers et les sous-répertoires dont
le nom correspond au
.IR motif .
.TP
.BI \-\-exclude\-from= fichier
Lors de la comparaison de répertoires, ignorer les fichiers et les sous-répertoires dont
le nom correspond à n'importe quel motif indiqué dans le
.IR fichier .
.TP
.B \-\-expand\-tabs
Développer les tabulations en espaces en sortie, afin de préserver l'alignement des
tabulations des fichiers d'entrée.
.TP
.B \-f
S'arranger pour que la sortie ressemble vaguement à un script
.IR ed ,
mais en préservant l'ordre des modifications du fichier.
.TP
.BI "\-F " regexp
Dans les formats contextuel et unifiés, pour chaque bloc de différences, afficher
quelques lignes précédentes qui correspondent à l'expression rationnelle
.IR regexp .
.TP
.B \-\-forward\-ed
S'arranger pour que la sortie ressemble vaguement à un script
.B ed
mais en préservant l'ordre des modifications du fichier.
.TP
.B \-h
Cette option n'a aucun effet, il s'agit simplement de préserver la compatibilité Unix.
.TP
.B \-H
Utiliser une heuristique accélérant le traitement des gros fichiers ayant de nombreux
petits changements dispersés.
.TP
.BI \-\-horizon\-lines= nb
Ne pas éliminer les
.I nb
dernières lignes du préfixe commun, ni les
.I nb
premières lignes du suffixe commun.
.TP
.B \-i
Ignore les différences entre majuscules et minuscules.
.TP
.BI "\-I " regexp
Ignorer les changements consistant seulement en insertion ou suppression de
lignes correspondant à l'expression régulière
.IR regexp .
.TP
.BI \-\-ifdef= nom
Sortir les deux textes originaux regroupés. La différenciation se fait
par des directives de préprocesseur ifdef-then-else concernant l'existence, ou non,
de la macro ayant le
.I nom
indiqué.
.TP
.B \-\-ignore\-all\-space
Ignorer les espaces lors des comparaisons de lignes
.TP
.B \-\-ignore\-blank\-lines
Ignorer les changements consistant uniquement en insertion ou suppression de
lignes blanches.
.TP
.B \-\-ignore\-case
Ignorer les différences entre majuscules et minuscules.
.TP
.BI \-\-ignore\-matching\-lines= regexp
Ignorer les changements consistant seulement en insertion ou suppression de
lignes correspondant à l'expression rationnelle
.IR regexp .
.TP
.B \-\-ignore\-space\-change
Ignorer les changements concernant le nombre d'espaces blanches.
.TP
.B \-\-initial\-tab
Sortir une tabulation plutôt qu'une espace avant le texte dans le format
normal ou contextuel. Ceci améliore la présentation des alignements.
.TP
.B \-l
Envoyer la sortie à
.I pr
pour la paginer.
.TP
.BI "\-L " étiquette
.br
.ns
.TP
.BI \-\-label= étiquette
Utiliser l'\fIétiquette\fP
à la place du nom de fichier dans les en-têtes des formats contextuels ou unifiés.
.TP
.B \-\-left\-column
N'afficher que la colone de gauche des lignes communes dans le format
side-by-side.
.TP
.BI \-\-line\-format= format
Utiliser le
.I format
pour afficher toutes les lignes d'entrée dans le format if-then-else.
.TP
.B \-\-minimal
Modifier l'algorithme pour trouver éventuellement des ensembles de changements plus petits.
Ceci rend
.I diff
plus lent (parfois beaucoup plus lent).
.TP
.B \-n
Sortir les différences au format RCS. Comme
.B \-f
sauf que chaque commande précise le nombre de lignes affectées.
.TP
.B \-N
.br
.ns
.TP
.B \-\-new\-file
Dans les comparaisons de répertoires, si un fichier ne se trouve que dans un seul
répertoire, considérer qu'il est présent, mais vide dans l'autre répertoire.
.TP
.BI \-\-new\-group\-format= format
Utiliser le
.I format
pour sortir un groupe de lignes ne se trouvant que dans le second fichier, dans
le format if-then-else.
.TP
.BI \-\-new\-line\-format= format
Utiliser le
.I format
pour sortir une ligne ne se trouvant que dans le second fichier, dans
le format if-then-else.
.TP
.BI \-\-old\-group\-format= format
Utiliser le
.I format
pour sortir un groupe de lignes ne se trouvant que dans le premier fichier, dans
le format if-then-else.
.TP
.BI \-\-old\-line\-format= format
Utiliser le
.I format
pour sortir une ligne ne se trouvant que dans le premier fichier, dans
le format if-then-else.
.TP
.B \-p
Indiquer dans quelle fonction C se trouve chaque changement.
.TP
.B \-P
Dans les comparaisons de répertoires, si un fichier ne se trouve que dans le second
répertoire, considérer qu'il est présent, mais vide dans l'autre répertoire.
.TP
.B \-\-paginate
Envoyer la sortie à
.I pr
pour la paginer.
.TP
.B \-q
Indiquer seulement si les fichiers différent, pas les différences elles-mêmes.
.TP
.B \-r
Lorsque l'on compare des répertoires, comparer également tous les sous-répertoires
récursivement.
.TP
.B \-\-rcs
Sortir les différences au format RCS. Comme
.B \-f
sauf que chaque commande précise le nombre de lignes affectées.
.TP
.B \-\-recursive
Lorsque l'on compare des répertoires, comparer également tous les sous-répertoires
récursivement.
.TP
.B \-\-report\-identical\-files
.br
.ns
.TP
.B \-s
Indiquer lorsque deux fichiers sont identiques.
.TP
.BI "\-S " fichier
Lorsque l'on compare des répertoires, commencer par le
.IR fichier indiqué.
Ceci permet une reprise après une comparaison interrompue.
.TP
.B \-\-sdiff\-merge\-assist
Afficher des informations supplémentaires pour aider
.IR sdiff .
Celui-ci utilise cette option lorsqu'il invoque
.IR diff .
L'utilisateur n'a aucune raison d'appeler cette option.
.TP
.B \-\-show\-c\-function
Indiquer dans quelle fonction C se trouve chaque changement.
.TP
.BI \-\-show\-function\-line= regexp
Dans les formats contextuel et unifiés, pour chaque bloc de différences, afficher
quelques lignes précédentes correspondant à l'expression rationnelle
.IR regexp .
.TP
.B \-\-side\-by\-side
Utiliser le format de sortie côte-à-côte.
.TP
.B \-\-speed\-large\-files
Utiliser une heuristique accélérant le traitement des gros fichiers ayant de nombreux
petits changements dispersés.
.TP
.BI \-\-starting\-file= fichier
Lorsque l'on compare des répertoires, commencer par le
.IR fichier indiqué.
Ceci permet une reprise après une comparaison interrompue.
.TP
.B \-\-suppress\-common\-lines
Ne pas afficher les lignes communes dans le format side-by-side.
.TP
.B \-t
Développer les tabulations en espaces en sortie, afin de préserver l'alignement des
tabulations des fichiers d'entrée.
.TP
.B \-T
Sortir une tabulation plutôt qu'un espace avant le texte dans le format
normal ou contextuel. Ceci améliore la présentation des alignements.
.TP
.B \-\-text
Traiter tous les fichiers comme du texte, et les comparer ligne-à-ligne, même
s'ils semblent contenir des données binaires.
.TP
.B \-u
Utiliser le format de sortie unifié.
.TP
.BI \-\-unchanged\-group\-format= format
Utiliser le
.I format
pour sortir un groupe de lignes communes aux deux fichiers, dans
le format if-then-else.
.TP
.BI \-\-unchanged\-line\-format= format
Utiliser le
.I format
pour sortir une ligne commune aux deux fichiers, dans
le format if-then-else.
.TP
.B \-\-unidirectional\-new\-file
Dans les comparaisons de répertoires, si un fichier ne se trouve que dans le second
répertoire, considérer qu'il est présent, mais vide dans l'autre répertoire.
.TP
.BI "\-U " nb
.br
.ns
.TP
.BI \-\-unified[= nb ]
Utiliser le format unifié, en montrant
.I nb
lignes de contexte, ou 3 lignes si
.I nb
n'est pas précisé. Pour fonctionner correctement,
.I patch
nécessite typiquement deux lignes de contexte
.TP
.B \-v
.br
.ns
.TP
.B \-\-version
Afficher le numéro de version de
.IR diff .
.TP
.B \-w
Ignorer les espaces blancs lors de la comparaison de lignes.
.TP
.BI "\-W " nb
.br
.ns
.TP
.BI \-\-width= nb
Utiliser une sortie ayant
.I nb
colonnes de texte dans le format side-by-side.
.TP
.BI "\-x " motif
Lors de la comparaison de répertoires, ignorer les fichiers et les sous-répertoires dont
le nom correspond au
.IR motif .
.TP
.BI "\-X " file
Lors de la comparaison de répertoires, ignorer les fichiers et les sous-répertoires dont
le nom correspond à l'un quelconque des motifs indiqués dans le
.IR fichier .
.TP
.B \-y
Utiliser l'affichage côte-à-côte (side-by-side).
.SH VOIR AUSSI
.BR cmp (1),
.BR comm (1),
.BR diff3 (1),
.BR ed (1),
.BR patch (1),
.BR pr (1),
.BR sdiff (1)
.SH DIAGNOSTIC
Un code de retour valant 0 signifie qu'aucune différence n'a été trouvée, 1
signifie que des différences sont apparues, 2 indique une erreur.
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 15\ décembre\ 1998
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 1\ diff\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

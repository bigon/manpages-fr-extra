.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" This manpage is Copyright (C) 1992 Drew Eckhardt;
.\"                               1993 Michael Haardt
.\"                               1993,1994 Ian Jackson.
.\" You may distribute it under the terms of the GNU General
.\" Public Licence. It comes with NO WARRANTY.
.\"
.\" Traduction  10/10/1996 Christophe BLAESS (ccb@club-internet.fr)
.\" Màj 08/04/1997
.\" Màj 10/12/1997 LDP-1.18
.\" Màj 26/06/2000 LDP-1.30
.\" Màj 30/08/2000 LDP-1.31
.\" Màj 18/07/2003 LDP-1.56
.\" Màj 14/12/2005 LDP-1.65
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH MKDIR 2 "9 décembre 2003" LDP "Manuel du programmeur Linux"
.SH NOM
mkdir \- Créer un répertoire.
.SH SYNOPSIS
.nf
.B #include <sys/types.h>
.B #include <sys/stat.h>
.\" .B #include <unistd.h>
.sp
.BI "int mkdir(const char *" pathname ", mode_t " mode );
.fi
.SH DESCRIPTION
.B mkdir
crée un nouveau répertoire nommé
.IR pathname .

Le paramètre
.I mode
spécifie les permissions à appliquer au répertoire.
Cette valeur peut être modifiée par le
.I umask
du processus\ : les permissions du répertoire effectivement créé
vaudront
.RI ( mode " & ~" umask " & 0777)."
Les autres bits de mode du répertoire créé dépendent du système
d'exploitation. Pour Linux, voir plus loin.

Le répertoire nouvellement créé aura pour propriétaire l'UID effectif
du processus. Si le répertoire au-dessus du nouveau répertoire a son
bit Set\-GID à 1, ou si le système de fichier est monté avec une
sémantique de groupe BSD, le nouveau répertoire héritera de
l'appartenance au groupe de son parent. Sinon il appartiendra au
groupe correspondant au GID effectif du processus.

Si le répertoire parent a son bit Set\-GID à 1, le nouveau
répertoire aura aussi son bit Set\-GID à 1.
.SH "VALEUR RENVOYÉE"
.BR mkdir
renvoie 0 s'il réussit, ou \-1 s'il échoue, auquel cas
.I errno
contient le code d'erreur.
.SH ERREURS
.TP
.B EPERM
Le système de fichiers contenant
.IR pathname
ne permet pas la création de répertoires.
.TP
.B EEXIST
.I pathname
existe déjà (pas nécessairement un répertoire).
Ceci inclut le cas où
.I pathname
est un lien symbolique, pointant quelque part ou pas.
.TP
.B EFAULT
.IR pathname " pointe en\-dehors de l'espace d'adressage accessible."
.TP
.B EACCES
Le répertoire parent n'autorise pas l'écriture au processus, ou l'un
des répertoires de
.IR pathname
n'autorise pas la consultation de son contenu.
.TP
.B ENAMETOOLONG
.IR pathname " trop long."
.TP
.B ENOENT
Un répertoire du chemin d'accès
.I pathname
n'existe pas ou est un lien symbolique pointant nulle part.
.TP
.B ENOTDIR
Un élément utilisé dans le chemin
.I pathname
n'est pas un répertoire.
.TP
.B ENOMEM
Pas assez de mémoire pour le noyau.
.TP
.B EROFS
.I pathname
serait sur un système de fichier en lecture seule.
.TP
.B ELOOP
.I pathname
contient une référence circulaire (à travers un lien symbolique).
.TP
.B ENOSPC
Le périphérique contenant
.I pathname
n'a pas assez de place pour le nouveau répertoire. Cette erreur se
produit également si le quota de disque de l'utilisateur est dépassé.
.SH CONFORMITÉ
SVr4, POSIX, BSD, SYSV, X/OPEN, SVr4 indique des conditions d'erreur
supplémentaires EIO, EMULTIHOP, et ENOLINK. POSIX.1 omet ELOOP.
.SH NOTES
Sous Linux, à part les bits de permission, seul le bit de mode S_ISVTX
est honoré. C'est-à-dire que sous Linux, le répertoire réellement créé
prend le mode
.RI ( mode " & ~" umask " & 01777)."
Voir aussi
.BR stat (2).
.PP
Il y a de nombreux problèmes avec le protocole sous-jacent à NFS, certains
d'entre-eux peuvent affecter
.BR mkdir .
.SH "VOIR AUSSI"
.BR mkdir (1),
.BR chmod (2),
.BR mknod (2),
.BR mount (2),
.BR rmdir (2),
.BR stat (2),
.BR umask (2),
.BR unlink (2)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 10\ octobre\ 1996
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 2\ mkdir\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

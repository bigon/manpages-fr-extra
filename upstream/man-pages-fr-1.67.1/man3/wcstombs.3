.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroup's Single Unix specification http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.\" Traduction 11/12/1996 par Christophe Blaess (ccb@club-internet.fr)
.\" Màj 21/07/2003 LDP-1.56
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH WCSTOMBS 3 "25 juillet 1999" LDP "Manuel du programmeur Linux"
.SH NOM
wcstombs \- Convertir une chaîne de caractères étendus en chaîne de caractères multi-octets.
.SH SYNOPSIS
.nf
.B #include <stdlib.h>
.sp
.BI "size_t wcstombs (char *" dest ", const wchar_t *" src ", size_t " n );
.fi
.SH DESCRIPTION
Si \fIdest\fP n'est pas un pointeur NULL, la fonction \fBwcstombs\fP() convertit au maximum \fInwc\fP caractères larges
depuis la chaîne \fI*src\fP vers la séquence multi-octets située en \fIdest\fP.
Au plus \fIn\fP octets seront écrits dans \fIdest\fP. La conversion
débute dans l'état initial.
La conversion peut se terminer pour trois raisons\ :
.PP
1. Un caractère large que l'on ne peut pas représenter par une séquence multi-octets (dans la localisation en cours)
a été rencontré. Dans ce cas la fonction renverra (size_t)(\-1).
.PP
2. La limite de longueur force l'arrêt. Dans ce cas, le nombre d'octets écrits
dans \fIdest\fP est renvoyé, mais l'état de décalage est perdu.
.PP
3. La chaîne de caractères larges a été complètement convertie, y compris le L'\\0'
final. Dans ce cas la conversion se termine dans l'état initial.
La fonction renvoie le nombre d'octets écrits dans \fIdest\fP,
sans compter l'octet '\\0'.
.PP
Si \fIdest\fP est NULL, la longueur \fIn\fP est ignorée, et la conversion
se déroule comme précédemment, sauf que les
octets convertis ne sont pas écrits en mémoire, et qu'il n'y a pas de limite de longueur en destination.
.PP
Pour éviter le cas 2 ci-dessus, le programmeur doit s'assurer que \fIn\fP
est supérieur ou égal à \fIwcstombs(NULL,src,0)+1\fP.
.SH "VALEUR RENVOYÉE"
La fonction \fBwcstombs\fP() renvoie le nombre d'octets constituant la partie convertie de la séquence multi-octets,
sans compter l'octet nul final. Si elle rencontre un caractère large qu'elle ne peut convertir, elle renvoie (size_t)(\-1).
.SH "CONFORMITÉ"
ISO/ANSI C, UNIX98
.SH "VOIR AUSSI"
.BR wcsrtombs (3)
.SH NOTES
Le comportement de \fBwcstombs\fP() dépend de la catégorie LC_CTYPE de la
localisation en cours.
.PP
La fonction \fBwcsrtombs\fP() fournit une interface sûre en contexte-multithreads
pour la même fonctionnalité.
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 11\ décembre\ 1996
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ wcstombs\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

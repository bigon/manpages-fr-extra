.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   OpenGroup's Single Unix specification http://www.UNIX-systems.org/online.html
.\"
.\" Traduction 31/08/2000 par Christophe Blaess (ccb@club-internet.fr)
.\" LDP-1.31
.\" Màj 21/07/2003 LDP-1.56
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH ICONV_OPEN 3 "27 novembre 1999" LDP "Manuel du programmeur Linux"
.SH NOM
iconv_open \- Allouer un descripteur pour une conversion de jeux de caractères.
.SH SYNOPSIS
.nf
.B #include <iconv.h>
.sp
.BI "iconv_t iconv_open (const char* " tocode ", const char* " fromcode );
.fi
.SH DESCRIPTION
La fonction \fBiconv_open\fP() alloue un descripteur de conversion adapté à la transformation
d'une séquence d'octets depuis le codage de caractères \fIfromcode\fP dans le codage
\fItocode\fP.
.PP
Les valeurs autorisées pour \fIfromcode\fP et \fItocode\fP et leurs combinaisons acceptées
dépendent du système. Pour la bibliothèque C GNU, les valeurs permises sont fournies par
la commande \fBiconv \-\-list\fP et toutes les combinaisons de ces valeurs sont supportées.

Ndt\ : apparemment ce n'est pas toujours vrai, puisque cette commande \fBiconv \-\-list\fP
affiche le commentaire suivant\ :
La liste suivante contient tous les jeux des codes de caractères connus. Ceci
ne signifie pas nécessairement que toutes les combinaisons de ces noms peuvent
être utilisées dans les paramètres FROM et TO des commandes[...]
.PP
Le descripteur de conversion fourni peut être utilisé autant de fois que voulu avec
\fBiconv\fP(). Il reste valide jusqu'à sa libération avec \fBiconv_close\fP().
.PP
Un descripteur contient un état de conversion. Lors de sa création avec
\fBiconv_open\fP(), il se trouve dans l'état initial. L'utilisation de \fBiconv\fP()
modifie l'état du descripteur. On ne doit donc pas utiliser simultanément un descripteur
de conversion dans plusieurs threads. Pour revenir à l'état initial, on peut employer
\fBiconv\fP() avec un argument \fIinbuf\fP NULL.
.SH "VALEUR RENVOYÉE"
La fonction \fBiconv_open\fP() renvoie un nouveau descripteur de conversion. En cas d'erreur,
elle remplit \fBerrno\fP et renvoie (iconv_t)(\-1).
.SH ERREURS
Les erreurs suivantes peuvent, entre autres, se présenter\ :
.TP
.B EINVAL
La conversion depuis \fIfromcode\fP vers \fItocode\fP n'est pas supportée par l'implémentation.
.SH "CONFORMITÉ"
UNIX98
.SH "VOIR AUSSI"
.BR iconv (3),
.BR iconv_close (3),
.BR iconv (1)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 31\ août\ 2000
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ iconv_open\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroup's Single Unix specification http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.\" Traduction 29/08/2000 par Christophe Blaess (ccb@club-internet.fr)
.\" LDP 1.30
.\" Màj 21/07/2003 LDP-1.56
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH MBRLEN 3 "25 juillet 1999" LDP "Manuel du programmeur Linux"
.SH NOM
mbrlen \- Calculer la longueur d'un caractère multi-octets.
.SH SYNOPSIS
.nf
.B #include <wchar.h>
.sp
.BI "size_t mbrlen (const char *" s ", size_t " n ", mbstate_t *" ps );
.fi
.SH DESCRIPTION
La fonction \fBmbrlen\fP() examine au maximum \fIn\fP octets de la séquence commençant
en \fIs\fP et en extrait le caractère multi-octets complet suivant. Elle met à jour
l'état de décalage \fI*ps\fP. Si le caractère multi-octets ne correspond pas au caractère
large nul, elle renvoie le nombre d'octets qui ont été lus dans \fIs\fP. Si ce caractère
correspond au caractère large nul, elle réinitialise l'état \fI*ps\fP et renvoie 0.
.PP
Si les \fIn\fP octets commençant en \fIs\fP ne contiennent pas un caractère multi-octets complet,
\fBmbrlen\fP() renvoie \fI(size_t)(-2)\fP. Ceci peut se produire même si \fIn\fP >= \fIMB_CUR_MAX\fP,
dans le cas où la séquence multi-octets contient des séquences de décalage redondantes.
.PP
Si la séquence multi-octets commençant en \fIs\fP contient une séquence invalide avant le prochain
caractère complet, \fBmbrlen\fP() renvoie \fI(size_t)(-1)\fP et place dans \fBerrno\fP la valeur \fBEILSEQ\fP.
Dans ce cas, les effets sur \fI*ps\fP sont indéfinis.
.PP
Si \fIps\fP est un pointeur NULL, une zone de mémoire statique réservée à mbrlen est utilisée à sa place.
.SH "VALEUR RENVOYÉE"
La fonction \fBmbrlen\fP() renvoie le nombre d'octets balayés depuis la séquence commençant en \fIs\fP, si
un caractère large non nul a été reconnu. Elle renvoie zéro si un caractère large nul est rencontré.
Elle renvoie (size_t)(\-1) et remplit \fBerrno\fP avec \fBEILSEQ\fP, si une séquence invalide est trouvée.
Elle renvoie (size_t)(\-2) si elle n'a pas trouvé de caractère entier, et si \fIn\fP doit être augmenté.
.SH "CONFORMITÉ"
ISO/ANSI C, UNIX98
.SH "VOIR AUSSI"
.BR mbrtowc (3)
.SH NOTES
Le comportement de \fBmbrlen\fP() dépend de la catégorie LC_CTYPE de la localisation.
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 29\ août\ 2000
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ mbrlen\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

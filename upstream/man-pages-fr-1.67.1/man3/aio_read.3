.\" Copyright (c) 2003 Andries Brouwer (aeb@cwi.nl)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111,
.\" USA.
.\"
.\" Traduction : Alain Portal
.\" 06/07/2005 LDP-1.62
.\" Màj 14/12/2005 LDP-1.65
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH AIO_READ 3 "14 novembre 2003" LDP "Manuel du programmeur Linux"
.SH "NOM"
aio_read \- Lecture asynchrone.
.SH SYNOPSIS
.sp
.B "#include <aio.h>"
.sp
.BI "int aio_read(struct aiocb *" aiocbp );
.sp
.SH DESCRIPTION
La fonction
.BR aio_read ()
sollicite un «\ n = read(fd, buf, count)\ » asynchrone avec fd, buf, count
donnés respectivement par
.IR aiocbp->aio_fildes ,
.IR aiocbp->aio_buf ,
.IR aiocbp->aio_nbytes .
L'état de retour n peut être récupéré à l'achèvement en utilisant
.BR aio_return (3).
.LP
La donnée est lue en commençant au décalage absolu du fichier
.IR aiocbp->aio_offset ,
quelque puisse être la position actuelle du pointeur sur le fichier. Après
cette requête, la valeur de la position «\ courante\ » du pointeur sur le
fichier est indéfinie.
.LP
«\ Asynchrone \ » signifie que cet appel s'achève aussitôt que la requête ait
été mise dans la file d'attente\ ; la lecture peut être ou ne pas être achevée
lorsque l'appel s'achève. On peut tester cet achèvement en utilisant
.BR aio_error (3).
.LP
Si _POSIX_PRIORITIZED_IO est définie et si le fichier le supporte, l'opération
asynchrone est soumise à une priorité égale à celle du processus appelant moins
.IR aiocbp->aio_reqprio .
.LP
Le membre
.I aiocbp->aio_lio_opcode
est ignoré.
.LP
Aucune donnée n'est lue dans un fichier régulier au-delà de son décalage
maximum.
.SH "VALEUR RENVOYÉE"
En cas de réussite, 0 est renvoyé. En cas d'erreur, la requête n'est pas mise
dans la file d'attente, \-1 est renvoyé et
.I errno
est positionnée en conséquence. Si une erreur est détectée plus tard,
elle sera rapportée via
.BR aio_return (3)
(état de retour \-1) et
.BR aio_error (3)
(état d'erreur\ : tout ce qu'on veut, récupéré dans
.IR errno ,
comme EBADF).
.SH "ERREURS"
.TP
.B EAGAIN
Ressources insuffisantes.
.TP
.B EBADF
.I aio_fildes
n'est pas un descripteur de fichier valide ouvert en lecture.
.TP
.B EINVAL
Une valeur ou plus parmi
.IR aio_offset ,
.IR aio_reqprio ,
.IR aio_nbytes
n'est pas valide.
.TP
.B EOVERFLOW
Le fichier est un fichier régulier, nous avons commencé la lecture avant
la fin de fichier et voulons au moins un octet, mais la position de départ
a dépassé le décalage maximum du fichier.
.TP
.B ENOSYS
La fonction n'est pas implémentée sur ce système.
.SH NOTES
C'est une bonne idée que de mettre à zéro le bloc de contrôle avant de
l'utiliser. Ce bloc de contrôle ne doit pas être modifié pendant l'opération
de lecture. Il ne faut pas accéder à la zone tampon à lire
.\" or the control block of the operation
pendant l'opération ou bien des résultats indéfinis peuvent survenir.
Les zones mémoires atteintes doivent rester valides.
.SH "CONFORMITÉ"
POSIX 1003.1-2003
.SH "VOIR AUSSI"
.BR aio_cancel (3),
.BR aio_error (3),
.BR aio_fsync (3),
.BR aio_return (3),
.BR aio_suspend (3),
.BR aio_write (3)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Alain Portal
<aportal AT univ-montp2 DOT fr> le 6\ juillet\ 2005
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ aio_read\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

.\"  Copyright 2002 walter harms (walter.harms@informatik.uni-oldenburg.de)
.\"  Distributed under GPL
.\"
.\" Traduction Christophe Blaess, <ccb@club-internet.fr>
.\" Màj 21/07/2003 LDP-1.56
.\" Màj 27/06/2005 LDP-1.60
.\" Màj 01/05/2006 LDP-1.67.1
.\"
.TH GETTTYENT 3 "18 juillet 2002" LDP "Manuel du programmeur Linux"
.SH NOM
getttyent, getttynam, setttyent, endttyent \- Lire le fichier des terminaux.
.SH SYNOPSIS
.sp
.B "#include <ttyent.h>"
.sp
.B "struct ttyent *getttyent(void);"
.sp
.BI "struct ttyent *getttynam(const char *" nom );
.sp
.B "int setttyent(void);"
.sp
.B "int endttyent(void);"
.SH DESCRIPTION
Ces fonctions fournissent une interface pour le fichier
.B _PATH_TTYS
(par exemple
.IR /etc/ttys ).

La fonction
.BR setttyent ()
ouvre le fichier, ou reprend la lecture au début s'il était déjà ouvert.

La fonction
.BR endttyent ()
ferme le fichier.

La fonction
.BR getttynam ()
recherche un nom de terminal dans le fichier. Elle renvoie un pointeur sur une
structure ttyent (voir ci-dessous).

La fonction
.BR getttyent ()
ouvre le fichier _PATH_TTYS (si besoin) et renvoie la première entrée.
Si le fichier est déjà ouvert, elle renvoie l'entrée suivante.

.SS "La structure ttyent"
.nf
struct ttyent {
        char    *ty_name;       /* nom du terminal */
        char    *ty_getty;      /* commande à exécuter (p.ex.\ : getty) */
        char    *ty_type;       /* type termcap de terminal */
        int     ty_status;      /* attributs d'état */
        char    *ty_window;     /* commande gestionnaire de fenêtres */
        char    *ty_comment;    /* commentaires */
};
.fi
Le champ
.I ty_status
peut valoir
.br
.nf
#define TTY_ON       0x01   /* autoriser les logins (avec ty_getty) */
#define TTY_SECURE   0x02   /* autoriser login de l'UID zéro */
.fi
.SH NOTES
Sous Linux, le fichier
.IR /etc/ttys ,
et les fonctions décrites ci-dessus ne sont pas utilisés.
.SH "VOIR AUSSI"
.BR ttyname (3),
.BR ttyslot (3)
.SH TRADUCTION
.PP
Ce document est une traduction réalisée par Christophe Blaess
<http://www.blaess.fr/christophe/> le 21\ juillet\ 2003
et révisée le 2\ mai\ 2006.
.PP
L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité. La version anglaise la plus à jour de ce document est
toujours consultable via la commande\ : «\ \fBLANG=en\ man\ 3\ getttyent\fR\ ».
N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas, toute
erreur dans cette page de manuel.

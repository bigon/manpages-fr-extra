.\" Automatically generated by Pod::Man 2.22 (Pod::Simple 3.07)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\" ========================================================================
.\"
.IX Title "SUDO 8"
.TH SUDO 8 "2011-04-21" "1.7.4p4-2.squeeze.2" "SUDO"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
sudo, sudoedit \- Exécute une commande en tant qu'un autre utilisateur.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBsudo\fR \fB\-h\fR | \fB\-K\fR | \fB\-k\fR | \fB\-L\fR | \fB\-V\fR
.PP
\&\fBsudo\fR \fB\-v\fR [\fB\-AknS\fR] [\fB\-a\fR \fIauth_type\fR] [\fB\-g\fR \fIgroup name\fR|\fI#gid\fR] [\fB\-p\fR \fIprompt\fR] [\fB\-u\fR \fIusername\fR|\fI#uid\fR]
.PP
\&\fBsudo\fR \fB\-l[l]\fR [\fB\-AknS\fR] [\fB\-a\fR \fIauth_type\fR] [\fB\-g\fR \fIgroup name\fR|\fI#gid\fR] [\fB\-p\fR \fIprompt\fR] [\fB\-U\fR \fIuser name\fR] [\fB\-u\fR \fIuser name\fR|\fI#uid\fR] [\fIcommand\fR]
.PP
\&\fBsudo\fR [\fB\-AbEHnPS\fR] [\fB\-a\fR \fIauth_type\fR] [\fB\-C\fR \fIfd\fR] [\fB\-c\fR \fIclass\fR|\fI\-\fR] [\fB\-g\fR \fIgroup name\fR|\fI#gid\fR] [\fB\-p\fR \fIprompt\fR]
[\fB\-r\fR \fIrole\fR] [\fB\-t\fR \fItype\fR] [\fB\-u\fR \fIuser name\fR|\fI#uid\fR]
[\fB\s-1VAR\s0\fR=\fIvalue\fR] [\fB\-i\fR | \fB\-s\fR] [\fIcommand\fR]
.PP
\&\fBsudoedit\fR [\fB\-AnS\fR] [\fB\-a\fR \fIauth_type\fR] [\fB\-C\fR \fIfd\fR] [\fB\-c\fR \fIclass\fR|\fI\-\fR] [\fB\-g\fR \fIgroup name\fR|\fI#gid\fR] [\fB\-p\fR \fIprompt\fR]
[\fB\-u\fR \fIuser name\fR|\fI#uid\fR] file ...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBsudo\fR permet à un utilisateur autorisé d'exécuter une l<commande> en tant
que super-utilisateur ou bien un autre utilisateur comme spécifié dans le
fichier l<sudoers>.Les réels et effectifs uid et gid sont déclarés afin de
correspondre à ceux de l'utilisateur cible tels que spécifiés dans le
fichier de mot de passe et le vecteur de groupe est initialisé selon le
fichier groupe. (A moins que l'option \fB\-P\fR ne soit spécifiée). Si
l'utilisateur invoqué est le super utilisateur ou si l'utilisateur cible est
le même que l'utilisateur appelant, aucun mot de passe n'est
requis.Autrement, \fBsudo\fR requiert que ces utilisateurs s'authentifient avec
un mot de passe par défaut (\s-1NOTE:\s0 Dans la configuration par défaut, il
s'agit du mot de passe de l'utilisateur et non celui du super
utilisateur). Dès que l'utilisateur a été authentifié, un horodatage est mis
à jour et l'utilisateur peut alors utiliser sudo sans un mot de passe pour
une courte période (\f(CW\*(C`@timeout@\*(C'\fR minutes si non surchargé dans \fIsudoers\fR).
.PP
Lorsque invoqué avec \fBsudoedit\fR, l'option \fB\-e\fR (décrite ci-dessous), est
implicite.
.PP
\&\fBsudo\fR détermine qui est un utilisateur autorisé en consultant le fichier
\&\fI\f(CI@sysconfdir\fI@/sudoers\fR. En exécutant \fBsudo\fR avec l'option \fB\-v\fR, un
utilisateur peut mettre à jour l'horodatage sans exécuter une
l<commande>. Si un mot de passe est requis, \fBsudo\fR quittera si le mot de
passe de l'utilisateur n'est pas saisi dans une limite de temps
configurable. Le délai d'expiration par défaut de l'invite de demande de mot
de passe est de <@password_timeout@> minutes.
.PP
Si un utilisateur qui n'est pas listé dans le fichier m<sudoers> essaye
d'exécuter une commande via \fBsudo\fR, un mail est envoyé aux autorités
adéquates, comme définies lors de la configuration ou dans le fichier
\&\-l<sudoers> (Par défaut à \f(CW\*(C`@mailto@\*(C'\fR). A noter que ce mail ne sera pas
envoyé si un utilisateur non autorisé essaye d'exécuter sudo avec les
options \fB\-l\fR ou \fB\-v\fR. Ceci permet aux utilisateur de savoir s'ils sont
autorisés à utiliser \fBsudo\fR.
.PP
Si \fBsudo\fR est exécuté par root et que la variable d'environnement
\&\f(CW\*(C`SUDO_USER\*(C'\fR est définie, \fBsudo\fR utilisera cette valeur pour déterminer qui
est l'utilisateur courant. Ceci peut être utilisé par un utilisateur pour
enregistrer les commandes lancées par le biais de sudo lorsqu'un
interpréteur de commande super utilisateur a été lancé. Cela permet aussi à
l'option \fB\-e\fR de rester utile lorsque exécutée via un script ou un
programme sudo\-exécuté. A noter cependant que cette recherche de sudoers est
toujours faite pour le super utilisateur, pas pour l'utilisateur spécifié
par \f(CW\*(C`SUDO_USER\*(C'\fR.
.PP
\&\fBsudo\fR peut enregistrer les tentatives réussies ou échouées (ainsi que les
erreurs) vers \fIsyslog\fR\|(3), un fichier journal, ou les deux. Par défaut \fBsudo\fR
enregistrera via \fIsyslog\fR\|(3) mais ceci est changeable au moment de la
configuration ou via le fichier l<sudoers>.
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fBsudo\fR accepte les options de ligne de commande suivants :
.IP "\-A" 12
.IX Item "-A"
Normalement, si \fBsudo\fR requiert un mot de passe, il le lira depuis le
terminal courant. Si l'option \fB\-A\fR (« l<askpass »)> est spécifiée, un
programme d'aide (pouvant être graphique) est exécuté pour lire le mot de
passe de l'utilisateur et afficher le mot de passe sur la sortie
standard. Si la variable d'environnement \f(CW\*(C`SUDO_ASKPASS\*(C'\fR est définie, cela
spécifie le chemin du programme d'aide. Autrement, la valeur spécifiée par
l'option « l<askpass »> dans \fIsudoers\fR\|(5) est utilisée.<askpass>
.IP "\-a l<type>" 12
.IX Item "-a l<type>"
L'option \fB\-a\fR (« l<authentication type ») fait que \fBsudo\fR utilise le type
d'authentification spécifié lors de la validation de l'utilisateur, tel
qu'autorisé par \fI/etc/login.conf\fR. L'administrateur du système peut
spécifier une liste de méthodes d'authentification sudo\-spécifiques en
ajoutant une entrée \*(L"auth-sudo\*(R" dans \fI/etc/login.conf\fR. Cette option est
disponible uniquement sur les systèmes supportant l'authentification \s-1BSD\s0.
.IP "\-b" 12
.IX Item "-b"
L'option \fB\-b\fR (« \fIbackground\fR ») dit à \fBsudo\fR d'exécuter la commande
donnée en arrière\-plan. À noter que si vous utilisez l'option \fB\-b\fR, vous ne
pouvez pas utiliser une tâche de contrôle en shell pour manipuler le
processus.
.IP "\-C \fIdescripteur de fichier\fR" 12
.IX Item "-C descripteur de fichier"
Normalement, \fBsudo\fR fermera tous les descripteurs de fichiers autres que
l'entrée standard, la sortie standard et l'erreur standard. L'option \fB\-C\fR
(« l<close from »)> permet à l'utilisateur de spécifier un point de départ
au dessus de l'erreur standard (descripteur de fichier trois). Les valeurs
en dessous ne sont pas permises. Cette option est uniquement disponible si
l'administrateur a activé l'option « closefrom_override » dans le fichier
\&\fIsudoers\fR\|(5).
.IP "\-c l<classe>" 12
.IX Item "-c l<classe>"
The \fB\-c\fR (\fIclass\fR) option causes \fBsudo\fR to run the specified command with
resources limited by the specified login class.  The \fIclass\fR argument can
be either a class name as defined in \fI/etc/login.conf\fR, or a single '\-'
character.  Specifying a \fIclass\fR of \f(CW\*(C`\-\*(C'\fR indicates that the command should
be run restricted by the default login capabilities for the user the command
is run as.  If the \fIclass\fR argument specifies an existing user class, the
command must be run as root, or the \fBsudo\fR command must be run from a shell
that is already root.  This option is only available on systems with \s-1BSD\s0
login classes.
.IP "\-E" 12
.IX Item "-E"
L'option \fB\-E\fR (l<préserver> l<environnement)) surchargera l'option
l<env_reset> dans \fIsudoers\fR\|(5). Ceci est uniquement disponible lorsque la
commande correspondante a soit le descripteur \f(CW\*(C`SETENV\*(C'\fR ou l'option
l<setenv> est définie dans \fIsudoers\fR\|(5).
.IP "\-e" 12
.IX Item "-e"
L'option \fB\-e\fR (l<edition>) indique que, au lieu d'exécuter la
commande, l'utilisateur souhaite éditer un ou plusieurs fichiers. Au lieu
d'une commande, la chaîne « sudoedit » est utilisée lors de la consultation
du fichier l<sudoers>. Si l'utilisateur est autorisé par l<sudoers>, les
mesures suivantes sont prises :
.RS 12
.IP "1." 4
Des copies temporaires des fichiers à éditer sont faites avec comme
propriétaire défini l'utilisateur appelant.
.IP "2." 4
The editor specified by the \f(CW\*(C`SUDO_EDITOR\*(C'\fR, \f(CW\*(C`VISUAL\*(C'\fR or \f(CW\*(C`EDITOR\*(C'\fR
environment variables is run to edit the temporary files.  If none of
\&\f(CW\*(C`SUDO_EDITOR\*(C'\fR, \f(CW\*(C`VISUAL\*(C'\fR or \f(CW\*(C`EDITOR\*(C'\fR are set, the first program listed in
the \fIeditor\fR \fIsudoers\fR variable is used.
.IP "3." 4
S'ils ont été modifiés, les fichiers temporaires sont recopiés vers leur
emplacement d'origine et les versions temporaires sont supprimées.
.RE
.RS 12
.Sp
Si le fichier spécifié n'existe pas, il sera créé.À noter que contrairement
à la plupart des commandes exécutées par \fBsudo\fR, l'éditeur est exécuté avec
l'environnement non modifié de l'utilisateur appelant. Si, pour une
quelconque raison, \fBsudo\fR est incapable de mettre à jour le fichier avec sa
version éditée, l'utilisateur recevra un avertissement et la copie éditée
restera dans un fichier temporaire.
.RE
.IP "\-g \fIgroupe\fR" 12
.IX Item "-g groupe"
Normalement, \fBsudo\fR définit pour l'utilisateur exécutant la commande le
groupe principal avec celui spécifié dans la base de données de mots de
passe (par défaut, le superutilisateur). L'option \fB\-g\fR (\fIgroupe\fR) amène
\&\fBsudo\fR à exécuter la commande spécifiée avec le groupe principal défini
avec \fIgroupe\fR. Pour spécifier un \fIidentifiant numérique de groupe ou
« gid »\fR au lieu d'un \fInom de groupe\fR, il faut utiliser la syntaxe
\&\fI#gid\fR. En exécutant des commandes avec un l<identifiant numérique de
groupe>, beaucoup d'interpéteurs requièrent que le « # » soit échappé avec
une barre oblique inversée (« \e »).Si l'option \fB\-u\fR n'est pas spécifiée, la
commande sera exécutée en tant que l'utilisateur appelant (et non le super
utilisateur). Dans les deux cas, le groupe principal sera défini avec
\&\fIgroupe\fR.
.IP "\-H" 12
.IX Item "-H"
L'option \fB\-H\fR (« \fI\s-1HOME\s0\fR » pour accueil >) définit la variable
d'environnement \f(CW\*(C`HOME\*(C'\fR avec le répertoire d'accueil de l'utilisateur cible
(le superutilisateur par défaut) comme défini dans \fIpasswd\fR\|(5). La façon par
défaut de traiter la variable d'environnement \f(CW\*(C`HOME\*(C'\fR dépend du paramétrage
de \fIsudoers\fR\|(5). Par défaut, \fBsudo\fR définira \f(CW\*(C`HOME\*(C'\fR si \fIenv_reset\fR or
\&\fIalways_set_home\fR sont définis, ou bien si \fIset_home\fR est défini et que
l'option \fB\-s\fR est définie sur la ligne de commande.
.IP "\-h" 12
.IX Item "-h"
L'option \fB\-h\fR (« \fIhelp\fR » ce qui signifie aide>) amène \fBsudo\fR à afficher
le message d'usage et sortir.
.IP "\-i [commande]" 12
.IX Item "-i [commande]"
L'option \fB\-i\fR (« \fIsimulate\fR initial login » ce qui signifie simulation de
première connexion) exécute l'interpréteur spécifié dans l'entrée du fichier
\&\fIpasswd\fR\|(5) de l'utilisateur cible en tant que shell de connexion. Cela
signifie que les fichiers spécifiques de cette ressource de connexion tels
que \f(CW\*(C`.profile\*(C'\fR ou \f(CW\*(C`.login\*(C'\fR seront lus par l'interpréteur. Si une commande
est spécifiée, elle est passée à l'interpréteur pour exécution. Autrement,
un interpréteur interactif est exécuté. \fBsudo\fR tente de changer vers le
répertoire d'accueil de cet utilisateur avant d'exécuter l'interpréteur. Il
initialise également l'environnement, laissant \fI\s-1DISPLAY\s0\fR et \fI\s-1TERM\s0\fR
inchangés, paramétrant \fI\s-1HOME\s0\fR, \fI\s-1MAIL\s0\fR, \fI\s-1SHELL\s0\fR, \fI\s-1USER\s0\fR, \fI\s-1LOGNAME\s0\fR, et
\&\fI\s-1PATH\s0\fR ainsi que le contenu de \fI/etc/environment\fR sur les systèmes Linux
et \s-1AIX\s0. Toutes les autres variables d'environnement sont supprimées.
.IP "\-K" 12
.IX Item "-K"
L'option \fB\-K\fR (« \fIkill\fR » ce qui signifie tuer) est comme \fB\-k\fR sauf
qu'elle supprime entièrement l'horodatage de l'utilisateur et ne doit pas
être utilisée avec une commande ou une autre option. Cette option de
requiert pas de mot de passe.
.IP "\-k" 12
.IX Item "-k"
When used by itself, the \fB\-k\fR (\fIkill\fR) option to \fBsudo\fR invalidates the
user's time stamp by setting the time on it to the Epoch.  The next time
\&\fBsudo\fR is run a password will be required.  This option does not require a
password and was added to allow a user to revoke \fBsudo\fR permissions from a
\&.logout file.
.Sp
Lorsque utilisée en conjonction avec une commande ou une option qui peut
requérir un mot de passe, l'option \fB\-k\fR fait que \fBsudo\fR ignorera le
fichier d'horodatage de l'utilisateur. En conséquence, \fBsudo\fR demandera un
mot de passe (si un est requis par \fIsudoers\fR) et ne mettra pas à jour le
fichier d'horodatage de l'utilisateur.
.IP "\-L" 12
.IX Item "-L"
L'option \fB\-L\fR (\fIlister\fR « Defaults ») listera tous les paramètres pouvant
être définis dans une ligne \fIDefaults\fR avec une petite description pour
chaque. Cette option sera supprimée dans une future version de \fBsudo\fR.
.IP "\-l[l] [\fIcommande\fR]" 12
.IX Item "-l[l] [commande]"
Si aucune \fIcommand\fR n'est spécifiée, l'option \fB\-l\fR (\fIlister\fR) listera les
commandes autorisées (and interdites) pour l'utilisateur appelant (ou bien
l'utilisateur spécifié par l'option \fB\-U\fR option) sur l'hôte courant. Si une
\&\fIcommande\fR est spécifiée et est permise par \fIsudoers\fR, le chemin
pleinement qualifié de la commande est affiché accompagné des arguments de
la ligne de commande. Si une \fIcommande\fR est spécifiée mais non autorisée,
\&\fBsudo\fR sortira avec une valeur d'état de 1. Si l'option \fB\-l\fR est spécifiée
avec un argument \fB<l\fR (i.e. \fB\-ll\fR) ou si \fB\-l\fR est spécifié plusieurs
fois, a format de liste plus long est utilisé.
.IP "\-n" 12
.IX Item "-n"
L'option \fB\-n\fR (\fInon-interactif\fR) empêche \fBsudo\fR de demander à
l'utilisateur un mot de passe. Si un mot de passe est requis pour que la
commande soit exécutée, \fBsudo\fR affichera un message d'erreur et sortira.
.IP "\-P" 12
.IX Item "-P"
L'option \fB\-P\fR (préserver le vecteur de groupe> fait que \fBsudo\fR préserve le
vecteur de groupe de l'utilisateur appelant inchangé. Par défault, \fBsudo\fR
initialisera le vecteur de groupe avec la liste de groupes dans lesquels est
l'utilisateur. Les réels et effectifs identifiants de groupe, cependant,
sont toujours définis pour correspondre à l'utilisateur cible.
.IP "\-p \fIinvite\fR" 12
.IX Item "-p invite"
The \fB\-p\fR (\fIprompt\fR) option allows you to override the default password
prompt and use a custom one.  The following percent (`\f(CW\*(C`%\*(C'\fR')  escapes are
supported:
.RS 12
.ie n .IP "%H" 4
.el .IP "\f(CW%H\fR" 4
.IX Item "%H"
expanded to the local host name including the domain name (on if the
machine's host name is fully qualified or the \fIfqdn\fR \fIsudoers\fR option is
set)
.ie n .IP "%h" 4
.el .IP "\f(CW%h\fR" 4
.IX Item "%h"
expanded to the local host name without the domain name
.ie n .IP "%p" 4
.el .IP "\f(CW%p\fR" 4
.IX Item "%p"
expanded to the user whose password is being asked for (respects the
\&\fIrootpw\fR, \fItargetpw\fR and \fIrunaspw\fR flags in \fIsudoers\fR)
.ie n .IP "%U" 4
.el .IP "\f(CW%U\fR" 4
.IX Item "%U"
expanded to the login name of the user the command will be run as (defaults
to root)
.ie n .IP "%u" 4
.el .IP "\f(CW%u\fR" 4
.IX Item "%u"
expanded to the invoking user's login name
.ie n .IP """%%""" 4
.el .IP "\f(CW%%\fR" 4
.IX Item "%%"
two consecutive \f(CW\*(C`%\*(C'\fR characters are collapsed into a single \f(CW\*(C`%\*(C'\fR character
.RE
.RS 12
.Sp
L'invite spécifiée par l'option \fB\-p\fR surchargera l'invite du mot de passe
système sur les systèmes supportant \s-1PAM\s0 à moins que le drapeau
\&\fIpassprompt_override\fR ne soit désactivé dans \fIsudoers\fR.
.RE
.IP "\-r \fIrôle\fR" 12
.IX Item "-r rôle"
L'option \fB\-r\fR (\fIrôle\fR) fait que le nouveau contexte de sécurité (SELinux)
a le rôle spécifié par l<rôle>.
.IP "\-S" 12
.IX Item "-S"
L'option \fB\-S\fR (« \fIstdin\fR » ce qui signifie entrée standard) fait que
\&\fBsudo\fR lit le mot de passe depuis l'entrée standard au lieu du périphérique
terminal. Le mot de passe doit être suivi du caractère de nouvelle ligne.
.IP "\-s [commande]" 12
.IX Item "-s [commande]"
L'option \fB\-s\fR (« \fIshell\fR » ce qui signifie interpréteur) exécute
l'interpréteur spécifié par la variable d'environnement \fI\s-1SHELL\s0\fR si elle est
définie ou bien l'interpréteur comme spécifié dans \fIpasswd\fR\|(5). Si une
commande est spécifiée, elle est passée à l'interpréteur pour
exécution. Autrement, un interpréteur interactif est exécuté.
.IP "\-t \fItype\fR" 12
.IX Item "-t type"
L'option \fB\-t\fR (\fItype\fR) fait que le nouveau contexte de sécurité (SELinux)
a le type spécifié par \fItype\fR. Si aucun type n'est spécifié, le type par
défaut est dérivé du rôle spécifié.
.IP "\-U \fIutilisateur\fR" 12
.IX Item "-U utilisateur"
L'option \-U (\fIautre utilisateur\fR) est utilisée en conjonction avec avec
l'option \fB\-l\fR pour spécifier l'utilisateur dont les privilèges doivent être
listés. Uniquement le superutilisateur ou un utilisateur avec \fBsudo\fR \f(CW\*(C`ALL\*(C'\fR
sur l'hote courant peuvent utiliser cette option.
.IP "\-u \fIutilisateur\fR" 12
.IX Item "-u utilisateur"
The \fB\-u\fR (\fIuser\fR) option causes \fBsudo\fR to run the specified command as a
user other than \fIroot\fR.  To specify a \fIuid\fR instead of a \fIuser name\fR, use
\&\fI#uid\fR.  When running commands as a \fIuid\fR, many shells require that the
\&'#' be escaped with a backslash ('\e').  Note that if the \fItargetpw\fR
Defaults option is set (see \fIsudoers\fR\|(5))  it is not possible to run
commands with a uid not listed in the password database.
.IP "\-V" 12
.IX Item "-V"
The \fB\-V\fR (\fIversion\fR) option causes \fBsudo\fR to print the version number and
exit.  If the invoking user is already root the \fB\-V\fR option will print out
a list of the defaults \fBsudo\fR was compiled with as well as the machine's
local network addresses.
.IP "\-v" 12
.IX Item "-v"
Si l'option \fB\-v\fR (\fIvalider\fR) est donnée, \fBsudo\fR mettra à jour
l'horodatage de l'utilisateur, demandant le mot de passe de l'utilisateur si
nécessaire. Ceci étend, le délais d'expiration de \fBsudo\fR pour \f(CW\*(C`@timeout@\*(C'\fR
minutes supplémentaires (ou quelque soit le délais d'expiration défini dans
\&\fIsudoers\fR) mais n'exécute pas de commande.
.IP "\-\-" 12
L'option \fB\-\-\fR indique que \fBsudo\fR doit cesser de traiter les arguments de
la ligne de commande.
.PP
Les variables d'environnement à définir pour la commande peuvent être
passées sur la ligne de commande sous la forme \fB\s-1VAR\s0\fR=\fIvaleur\fR,
e.g. \fB\s-1LD_LIBRARY_PATH\s0\fR=\fI/usr/local/pkg/lib\fR. Les variables passées sur la
ligne de commande sont sujettes aux mêmes restrictions que les variables
d'environnement avec une exception importante. Si l'option \fIsetenv\fR est
définie dans \fIsudoers\fR, la commande a exécuter a la balise \f(CW\*(C`SETENV\*(C'\fR
définie ou si la commande assortie est \f(CW\*(C`ALL\*(C'\fR, l'utilisateur peut définir
les variables qui seraient autrement interdites. Voir <\fIsudoers\fR\|(5)> pour plus
d'information.
.SH "VALEURS DE RETOUR"
.IX Header "VALEURS DE RETOUR"
Sur exécution avec succès d'un programme, l'état de sortie de \fBsudo\fR sera
simplement l'état de sortie du programme qui a été exécuté.
.PP
Autrement, \fBsudo\fR quitte avec une valeur de sortie de 1 s''il y a un
problème de configuration/permission ou si \fBsudo\fR ne peut pas exécuter la
commande donnée. Dans ce deuxième cas, la chaîne d'erreur est imprimée sur
l'erreur standard. So \fBsudo\fR ne peut pas exécuter \fIstat\fR\|(2) sur une ou
plusieurs entrées définies dans le \f(CW\*(C`PATH\*(C'\fR de l'utilisateur, une erreur est
affichée sur l'erreur standard. (Si le répertoire n'existe pas ou bien si ce
n'est pas réellement un répertoire, l'entrée est ignorée et aucune erreur
n'est affichée). Ceci ne devrait pas arriver dans des circonstances
normales. La raison la plus commune pour \fIstat\fR\|(2) de retourner \*(L"Permission
non accordée\*(R" est si vous exécutez un monteur automatique et qu'un des
répertoires définis dans votre variable d'environnement \f(CW\*(C`PATH\*(C'\fR est sur une
machine qui est actuellement inaccessible.
.SH "SECURITY NOTES"
.IX Header "SECURITY NOTES"
\&\fBsudo\fR essaye d'être sans danger lors de l'exécution de commandes externes.
.PP
Il y a deux manières distinctes de s'occuper des variables
d'environnement. Par défaut. l'option \fIenv_reset\fR de \fIsudoers\fR est
activé. Ceci fait que les commandes sont à exécuter avec un environnement
minimal contenant \f(CW\*(C`TERM\*(C'\fR, \f(CW\*(C`PATH\*(C'\fR, \f(CW\*(C`HOME\*(C'\fR, \f(CW\*(C`SHELL\*(C'\fR, \f(CW\*(C`LOGNAME\*(C'\fR, \f(CW\*(C`USER\*(C'\fR
and \f(CW\*(C`USERNAME\*(C'\fR en plus des variables du processus appelant autorisées par
les options \fIsudoers\fR \fIenv_check\fR et \fIenv_keep\fR. Il y a effectivement une
liste blanche des variables d'environnement.
.PP
Si, cependant l'option \fIenv_reset\fR est désactivée dans \fIsudoers\fR, toutes
les variables non explicitement refusées par les options \fIenv_check\fR et
\&\fIenv_delete\fR sont héritées du processus appelant. Dans ce cas, \fIenv_check\fR
et \fIenv_delete\fR se comportent comme une liste noire. Dans la mesure ou il
n'est pas possible de mettre en liste noire toutes les variables
d'environnement potentiellement dangereuses, l'utilisation du comportement
par défaut de \fIenv_reset\fR est encouragé.
.PP
Dans tous les cas, les variables d'environnement avec une valeur commençant
avec \f(CW\*(C`()\*(C'\fR sont supprimées étant donné qu'elles pourraient êtres
interprétées comme des fonctions \fBbash\fR. La liste des variables
d'environnement que \fBsudo\fR accepte ou refuse est contenue dans la sortie de
\&\f(CW\*(C`sudo \-V\*(C'\fR lorsque exécuté en tant que superutilisateur.
.PP
Note that the dynamic linker on most operating systems will remove variables
that can control dynamic linking from the environment of setuid executables,
including \fBsudo\fR.  Depending on the operating system this may include
\&\f(CW\*(C`_RLD*\*(C'\fR, \f(CW\*(C`DYLD_*\*(C'\fR, \f(CW\*(C`LD_*\*(C'\fR, \f(CW\*(C`LDR_*\*(C'\fR, \f(CW\*(C`LIBPATH\*(C'\fR, \f(CW\*(C`SHLIB_PATH\*(C'\fR, and
others.  These type of variables are removed from the environment before
\&\fBsudo\fR even begins execution and, as such, it is not possible for \fBsudo\fR
to preserve them.
.PP
To prevent command spoofing, \fBsudo\fR checks \*(L".\*(R" and "" (both denoting
current directory) last when searching for a command in the user's \s-1PATH\s0 (if
one or both are in the \s-1PATH\s0).  Note, however, that the \f(CW\*(C`PATH\*(C'\fR environment
variable is further modified in Debian because of the use of the
\&\fI\s-1SECURE_PATH\s0\fR build option.
.PP
\&\fBsudo\fR will check the ownership of its time stamp directory (\fI\f(CI@timedir\fI@\fR
by default) and ignore the directory's contents if it is not owned by root
or if it is writable by a user other than root.  On systems that allow
non-root users to give away files via \fIchown\fR\|(2), if the time stamp
directory is located in a directory writable by anyone (e.g., \fI/tmp\fR), it
is possible for a user to create the time stamp directory before \fBsudo\fR is
run.  However, because \fBsudo\fR checks the ownership and mode of the
directory and its contents, the only damage that can be done is to \*(L"hide\*(R"
files by putting them in the time stamp dir.  This is unlikely to happen
since once the time stamp dir is owned by root and inaccessible by any other
user, the user placing files there would be unable to get them back out.  To
get around this issue you can use a directory that is not world-writable for
the time stamps (\fI/var/adm/sudo\fR for instance) or create \fI\f(CI@timedir\fI@\fR with
the appropriate owner (root)  and permissions (0700) in the system startup
files.
.PP
\&\fBsudo\fR ne respectera pas les horodatages définis loin dans le futur. Les
horodatage avec une date plus grande que current_time + 2 * \f(CW\*(C`TIMEOUT\*(C'\fR
seront ignorés. L'évènement sera enregistré par sudo et une alerte sera
levée. Ceci est fait pour empêcher un utilisateur de créer son propre
horodatage avec une date fausse sur des systèmes qui autorisent les
utilisateurs à donner des fichiers.
.PP
Sur les systèmes ou la date de démarrage est disponible, \fBsudo\fR ne
respectera pas non plus les horodatages datant d'avant le démarrage de la
machine.
.PP
Étant donné que les fichiers d'horodatage vivent dans le système de
fichiers, ils peuvent survivre à une session utilisateur. Par conséquent, un
utilisateur peut se connecter, exécuter une commande avec \fBsudo\fR après
authentification, se déconnecter, se connecter à nouveau, et exécuter
\&\fBsudo\fR sans authentification tant que la date de modification du fichier
d'horodatage date de moins de \f(CW\*(C`@timeout@\*(C'\fR minutes (ou bien la valeur
définie dans \fIsudoers\fR). Lorsque l'option \fItty_tickets\fR est activée dans
\&\fIsudoers\fR, l'horodatage a une granularité par tty mais peut toujours
survivre à une session utilisateur. Que ce soit sur les systèmes Linux ou le
système de fichiers devpts est utilisé, les systèmes Solaris avec le système
de fichiers devices, ou sur tout autre système qui utilise un système de
fichiers devfs qui incrémentent de facon monotone le numéro d'inode les
periphériques selon l'ordre de création (comme sur Mac \s-1OS\s0 X), \fBsudo\fR est
capable de déterminer si un fichier d'horodatage correspondant a un tty est
trop ancien est l'ignorera. Les administrateurs ne doivent pas compter sur
cette fonctionnalité étant donné qu'elle n'est pas disponible de manière
universelle.
.PP
A noter que \fBsudo\fR n'enregistrera normalement dans les journaux systèmes
que les commandes qu'il lance explicitement. Si un utilisateur exécute une
commande telle que \f(CW\*(C`sudo su\*(C'\fR ou \f(CW\*(C`sudo sh\*(C'\fR, les commandes suivantes
exécutées depuis cet interpréteur ne seront \fIpas\fR enregistrées et ne seront
affectées par aucun contrôle d'accès de \fBsudo\fR. La même chose est vraie
pour les commandes qui offre un mécanisme d'échappement de l'interpréteur
(Inclus dans la plupart des éditeurs). Pour cette raison, en donnant des
accès aux utilisateurs à des commandes par \fBsudo\fR, il faut prendre comme
précaution de vérifier que la commande ne donne pas par inadvertance à
l'utilisateur un interpréteur super-utilisateur effectif. Pour plus
d'informations, veuillez consulter la section \f(CW\*(C`PRÉVENIR LES ÉCHAPPEMENTS
D\*(AqUN INTERPRÉTEUR\*(C'\fR dans \fIsudoers\fR\|(5).
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
\&\fB<sudo\fR utilise les variables d'environnement suivantes :
.ie n .IP """EDITOR""" 16
.el .IP "\f(CWEDITOR\fR" 16
.IX Item "EDITOR"
L'éditeur par défaut à utiliser en mode \fB\-e\fR (sudoedit) si ni <\s-1SUDO_EDITOR\s0>
et ni \f(CW\*(C`VISUAL\*(C'\fR ne sont définies.
.ie n .IP """MAIL""" 16
.el .IP "\f(CWMAIL\fR" 16
.IX Item "MAIL"
In \fB\-i\fR mode or when \fIenv_reset\fR is enabled in \fIsudoers\fR, set to the mail
spool of the target user
.ie n .IP """HOME""" 16
.el .IP "\f(CWHOME\fR" 16
.IX Item "HOME"
Défini avec le répertoire d'accueil de l'utilisateur cible si \fB\-i\fR ou \fB\-H\fR
sont précisées, \fIenv_reset\fR ou \fIalways_set_home\fR sont définies dans
\&\fIsudoers\fR, ou lorsque l'option <\-s> est précisées et que \fIset_home\fR est
définie dans \fIsudoers\fR
.ie n .IP """PATH""" 16
.el .IP "\f(CWPATH\fR" 16
.IX Item "PATH"
Défini avec une valeur sécurisée si l'option sudoers \fIsecure_path\fR est
définie.
.ie n .IP """SHELL""" 16
.el .IP "\f(CWSHELL\fR" 16
.IX Item "SHELL"
Utilisé pour déterminer l'interpréteur à exécuter avec l'option \f(CW\*(C`\-s\*(C'\fR
.ie n .IP """SUDO_ASKPASS""" 16
.el .IP "\f(CWSUDO_ASKPASS\fR" 16
.IX Item "SUDO_ASKPASS"
Précise le chemin du programme d'aide utilisé pour lire le mot de passe si
aucun terminal n'est disponible ou si l'option \f(CW\*(C`\-A\*(C'\fR est précisée.
.ie n .IP """SUDO_COMMAND""" 16
.el .IP "\f(CWSUDO_COMMAND\fR" 16
.IX Item "SUDO_COMMAND"
Défini avec la commande exécutée par sudo
.ie n .IP """SUDO_EDITOR""" 16
.el .IP "\f(CWSUDO_EDITOR\fR" 16
.IX Item "SUDO_EDITOR"
Éditeur par défaut à utiliser en mode \fB\-e\fR (sudoedit)
.ie n .IP """SUDO_GID""" 16
.el .IP "\f(CWSUDO_GID\fR" 16
.IX Item "SUDO_GID"
Défini avec l'identifiant de groupe de l'utilisateur qui a invoqué sudo
.ie n .IP """SUDO_PROMPT""" 16
.el .IP "\f(CWSUDO_PROMPT\fR" 16
.IX Item "SUDO_PROMPT"
Used as the default password prompt
.ie n .IP """SUDO_PS1""" 16
.el .IP "\f(CWSUDO_PS1\fR" 16
.IX Item "SUDO_PS1"
Si défini, \f(CW\*(C`PS1\*(C'\fR sera définie à cette valeur pour le programme en cours
d'exécution
.ie n .IP """SUDO_UID""" 16
.el .IP "\f(CWSUDO_UID\fR" 16
.IX Item "SUDO_UID"
Défini avec l'identifiant utilisateur de l'utilisateur qui a invoqué sudo
.ie n .IP """SUDO_USER""" 16
.el .IP "\f(CWSUDO_USER\fR" 16
.IX Item "SUDO_USER"
Défini avec l'identifiant de connexion de l'utilisateur qui a invoqué sudo
.ie n .IP """USER""" 16
.el .IP "\f(CWUSER\fR" 16
.IX Item "USER"
Défini avec l'utilisateur cible (le super-utilisateur à moins que l'option
\&\fB\-u\fR ne soit précisée)
.ie n .IP """VISUAL""" 16
.el .IP "\f(CWVISUAL\fR" 16
.IX Item "VISUAL"
Éditeur par défaut à utiliser en mode \fB\-e\fR (sudoedit) si \f(CW\*(C`SUDO_EDITOR\*(C'\fR
n'est pas défini
.SH "FILES"
.IX Header "FILES"
.ie n .IP "\fI\fI@sysconfdir\fI@/sudoers\fR" 24
.el .IP "\fI\f(CI@sysconfdir\fI@/sudoers\fR" 24
.IX Item "@sysconfdir@/sudoers"
List of who can run what
.ie n .IP "\fI\fI@timedir\fI@\fR" 24
.el .IP "\fI\f(CI@timedir\fI@\fR" 24
.IX Item "@timedir@"
Répertoire contenant les horodatages
.IP "\fI/etc/environment\fR" 24
.IX Item "/etc/environment"
Environnement de départ pour le mode <\-i> sur Linux et \s-1AIX\s0
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Note :Les exemples suivants supposent les entrées \fIsudoers\fR\|(5) adéquates.
.PP
Récupérer le listing des fichiers d'un répertoire sans accès en lecture :
.PP
.Vb 1
\& $ sudo ls /usr/local/protected
.Ve
.PP
Lister le répertoire d'accueil d'un utilisateur yaz sur une machine ou le
système de fichiers contenant ~yaz n'est pas exporté en tant que
super-utilisateur :
.PP
.Vb 1
\& $ sudo \-u yaz ls ~yaz
.Ve
.PP
Éditer le fichier \fIindex.html\fR en tant que l'utilisateur www :
.PP
.Vb 1
\& $ sudo \-u www vi ~www/htdocs/index.html
.Ve
.PP
Visualiser les journaux systèmes uniquement accessibles au super-utilisateur
ainsi qu'aux utilisateurs du groupe adm :
.PP
.Vb 1
\& $ sudo \-g adm view /var/log/syslog
.Ve
.PP
Exécuter un éditeur en tant que jim avec un groupe principal différent :
.PP
.Vb 1
\& $ sudo \-u jim \-g audio vi ~jim/sound.txt
.Ve
.PP
Éteindre une machine :
.PP
.Vb 1
\& $ sudo shutdown \-r +15 "quick reboot"
.Ve
.PP
Pour faire un listing du taux d'utilisation des répertoires dans la
partition /home. A noter que ceci exécute les commande dans un
sous\-interpréteur pour faire en sorte que \f(CW\*(C`cd\*(C'\fR ainsi que la redirection de
fichier fonctionnent.
.PP
.Vb 1
\& $ sudo sh \-c "cd /home ; du \-s * | sort \-rn > USAGE"
.Ve
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIgrep\fR\|(1), \fIsu\fR\|(1), \fIstat\fR\|(2), \fIlogin_cap\fR\|(3), \fIpasswd\fR\|(5),
\&\fIsudoers\fR\|(5), \fIvisudo\fR\|(8)
.SH "AUTEURS"
.IX Header "AUTEURS"
Many people have worked on \fBsudo\fR over the years; this version consists of
code written primarily by:
.PP
.Vb 1
\&        Todd C. Miller
.Ve
.PP
See the \s-1HISTORY\s0 file in the \fBsudo\fR distribution or visit
http://www.sudo.ws/sudo/history.html for a short history of \fBsudo\fR.
.SH "CAVEATS"
.IX Header "CAVEATS"
Il n'y a pas de manière simple d'empêcher un utilisateur d'obtenir un
interpréteur super-utilisateur si cet utilisateur est autorisé a exécuter
des commandes arbitraires par \fBsudo\fR. Aussi, de nombreux programmes (tels
que les éditeurs) autorisent l'utilisateur a exécuter des commandes par des
échappements de l'interpréteur, en évitant ainsi les contrôles de
\&\fBsudo\fR. Cependant, sur la plupart des systèmes, il est possible d'empêcher
les échappements de l'interpréteur avec la fonctionnalité \fInoexec\fR de
\&\fBsudo\fR. Consultez le manuel de \fIsudoers\fR\|(5) pour plus de détails.
.PP
Il n'est pas intéressant d'exécuter la commande \f(CW\*(C`cd\*(C'\fR directement par sudo,
par exemple,
.PP
.Vb 1
\& $ sudo cd /usr/local/protected
.Ve
.PP
étant donné que la commande quittant le processus parent (votre
interpréteur) restera la même. Veuillez consulter la section \s-1EXEMPLES\s0 pour
plus d'information.
.PP
If users have sudo \f(CW\*(C`ALL\*(C'\fR there is nothing to prevent them from creating
their own program that gives them a root shell regardless of any '!'
elements in the user specification.
.PP
Exécuter des « shell scripts » par \fBsudo\fR peut exposer aux mêmes bogues
noyaux que ceux rendant les « shell scripts » avec le bit setuid positionné
risqués sur certains systèmes d'exploitation (si votre système
d'exploitation dispose d'un répertoire /dev/fd), les « shell scripts » avec
le bit setuid positionné, sont généralement surs).
.SH "BUGS"
.IX Header "BUGS"
If you feel you have found a bug in \fBsudo\fR, please submit a bug report at
http://www.sudo.ws/sudo/bugs/
.SH "SUPPORT"
.IX Header "SUPPORT"
Limited free support is available via the sudo-users mailing list, see
http://www.sudo.ws/mailman/listinfo/sudo\-users to subscribe or search the
archives.
.SH "DISCLAIMER"
.IX Header "DISCLAIMER"
\&\fBsudo\fR is provided ``\s-1AS\s0 \s-1IS\s0'' and any express or implied warranties,
including, but not limited to, the implied warranties of merchantability and
fitness for a particular purpose are disclaimed.  See the \s-1LICENSE\s0 file
distributed with \fBsudo\fR or http://www.sudo.ws/sudo/license.html for
complete details.
